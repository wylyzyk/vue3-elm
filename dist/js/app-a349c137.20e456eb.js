"use strict";(self["webpackChunkelm"]=self["webpackChunkelm"]||[]).push([[69],{8481:(e,t,s)=>{s.d(t,{Z:()=>w});var i=s(6440);const a={class:"detail_page"},o={id:"scroll_section",class:"scroll_container"},n=["innerHTML"];function l(e,t,s,l,r,c){const d=(0,i.up)("head-top");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(d,{"head-title":e.question.title,"go-back":"true"},null,8,["head-title"]),(0,i._)("section",o,[(0,i._)("section",{innerHTML:c.markdownText,class:"markdown"},null,8,n)])])}var r=s(1589),c=s(3532),d=s(2751),_=s.n(d),h=s(1052);const p={data(){return{}},components:{headTop:r.Z},mounted(){this.$nextTick((()=>{new h.Z("#scroll_section",{deceleration:.001,bounce:!0,swipeTime:1800,click:!0})}))},computed:{...(0,c.rn)(["question"]),markdownText:function(){let e=new(_().Converter);return e.makeHtml(this.question.detail)}},methods:{}};var u=s(8773);const g=(0,u.Z)(p,[["render",l],["__scopeId","data-v-02532bec"]]),w=g},3695:(e,t,s)=>{s.d(t,{Z:()=>D});var i=s(6440),a=s(1040),o=s(1254);const n=e=>((0,i.dD)("data-v-74db7de8"),e=e(),(0,i.Cn)(),e),l={class:"rating_page"},r=n((()=>(0,i._)("section",{class:"service_connect"},[(0,i._)("a",{href:"https://ecs-im.ele.me/",class:"service_left"},[(0,i._)("svg",null,[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#human"})]),(0,i._)("span",null,"在线客服")]),(0,i._)("a",{href:"tel:10105757",class:"service_right"},[(0,i._)("svg",null,[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#phone"})]),(0,i._)("span",null,"在线客服")])],-1))),c={key:0,class:"hot_questions"},d=n((()=>(0,i._)("h4",{class:"qustion_header"},"热门问题",-1))),_=["onClick"],h=n((()=>(0,i._)("svg",{class:"arrow-svg",fill:"#999"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})],-1)));function p(e,t,s,n,p,u){const g=(0,i.up)("head-top"),w=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(g,{"head-title":"服务中心","go-back":"true"}),r,p.serviceData?((0,i.wg)(),(0,i.iD)("section",c,[d,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.questionTitle,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:"question_title",onClick:s=>u.toQuestionDetail(e,t)},[(0,i._)("span",null,(0,a.zw)(e),1),h],8,_)))),128))])])):(0,i.kq)("",!0),(0,i.Wm)(o.uT,{name:"router-slid",mode:"out-in"},{default:(0,i.w5)((()=>[(0,i.Wm)(w)])),_:1})])}var u=s(1589),g=s(9849),w=s(3532);const m={data(){return{serviceData:null,questionTitle:[],questionDetail:[]}},mounted(){this.initData()},mixins:[],components:{headTop:u.Z},props:[],methods:{...(0,w.OI)(["SAVE_QUESTION"]),async initData(){this.serviceData=await(0,g.ko)(),Object.keys(this.serviceData).forEach((e=>{let t=!1;this.questionTitle.forEach((s=>{s==this.serviceData[e]&&(t=!0)})),-1===e.indexOf("Caption")||t?t||this.questionDetail.push(this.serviceData[e]):this.questionTitle.push(this.serviceData[e])}))},toQuestionDetail(e,t){this.SAVE_QUESTION({title:e,detail:this.questionDetail[t]}),this.$router.push("/service/questionDetail")}}};var v=s(8773);const f=(0,v.Z)(m,[["render",p],["__scopeId","data-v-74db7de8"]]),D=f},3712:(e,t,s)=>{s.d(t,{Z:()=>J});var i=s(6440),a=s(1040);const o=e=>((0,i.dD)("data-v-eb4b82d6"),e=e(),(0,i.Cn)(),e),n={class:"safe_shop"},l={id:"scroll_section",class:"scroll_container"},r={class:"shop_status_container"},c=o((()=>(0,i._)("header",null,"食品监督安全公示",-1))),d={class:"shop_statu_detail"},_={key:0,class:"shop_status"},h=o((()=>(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#res-well"},null,-1))),p=[h],u={key:1,class:"res-well"},g=o((()=>(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#res-bad"},null,-1))),w=[g],m={class:"check_date"},v=o((()=>(0,i._)("span",null,"监督检查结果：",-1))),f={key:0,class:"shop_status_well"},D={key:1,class:"shop_status_bad"},k=o((()=>(0,i._)("span",null,"检查日期：",-1))),y={class:"shop_status_container"},C=o((()=>(0,i._)("header",null,[(0,i._)("span",null,"工商登记信息")],-1))),x=o((()=>(0,i._)("p",null,"企业名称",-1))),b=o((()=>(0,i._)("p",null,"工商执照注册号",-1))),I=o((()=>(0,i._)("p",null,"注册资本",-1))),T=o((()=>(0,i._)("p",null,"注册地址",-1))),L=o((()=>(0,i._)("p",null,"属地监管所",-1))),z=o((()=>(0,i._)("p",null,"法定代表人",-1))),S=o((()=>(0,i._)("p",null,"经营范围",-1))),A={class:"shop_status_container"},q=o((()=>(0,i._)("header",null,"餐饮许可证",-1))),F=o((()=>(0,i._)("p",null,"营业范围",-1))),R=o((()=>(0,i._)("p",null,"许可证有效期",-1))),W=o((()=>(0,i._)("p",null,"许可证号",-1))),E=o((()=>(0,i._)("p",null,"发证时间",-1))),Z=o((()=>(0,i._)("p",null,"发证机关",-1))),M={class:"license_img shop_status_container"},O=o((()=>(0,i._)("header",null,"许可证书",-1))),P={class:"img_container"},U=["src"],$=["src"];function H(e,t,s,o,h,g){const H=(0,i.up)("head-top");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(H,{"head-title":"食品监督安全公示","go-back":"true"}),(0,i._)("section",l,[(0,i._)("section",null,[(0,i._)("section",r,[c,(0,i._)("section",d,[(0,i._)("div",null,[1==e.shopDetail.status?((0,i.wg)(),(0,i.iD)("svg",_,p)):((0,i.wg)(),(0,i.iD)("svg",u,w))]),(0,i._)("div",m,[(0,i._)("p",null,[v,1==e.shopDetail.status?((0,i.wg)(),(0,i.iD)("span",f,"良好")):((0,i.wg)(),(0,i.iD)("span",D,"差"))]),(0,i._)("p",null,[k,(0,i._)("span",null,(0,a.zw)(e.shopDetail.identification.identificate_date&&e.shopDetail.identification.identificate_date.split("T")[0]),1)])])])]),(0,i._)("section",y,[C,(0,i._)("ul",null,[(0,i._)("li",null,[x,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.company_name),1)]),(0,i._)("li",null,[b,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.identificate_agency),1)]),(0,i._)("li",null,[I,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.registered_number),1)]),(0,i._)("li",null,[T,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.registered_address),1)]),(0,i._)("li",null,[L,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.registered_principal),1)]),(0,i._)("li",null,[z,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.legal_person),1)]),(0,i._)("li",null,[S,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.operation_period),1)])])]),(0,i._)("section",A,[q,(0,i._)("ul",null,[(0,i._)("li",null,[F,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.operation_period),1)]),(0,i._)("li",null,[R,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.licenses_date),1)]),(0,i._)("li",null,[W,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.licenses_number),1)]),(0,i._)("li",null,[E,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.licenses_scope),1)]),(0,i._)("li",null,[Z,(0,i._)("p",null,(0,a.zw)(e.shopDetail.identification.registered_principal),1)])])]),(0,i._)("section",M,[O,(0,i._)("div",P,[(0,i._)("img",{src:h.localapi||h.proapi?h.imgBaseUrl+e.shopDetail.license.business_license_image:e.getImgPath(e.shopDetail.license.business_license_image)},null,8,U),(0,i._)("img",{src:h.localapi||h.proapi?h.imgBaseUrl+e.shopDetail.license.catering_service_license_image:e.getImgPath(e.shopDetail.license.catering_service_license_image)},null,8,$)])])])])])}var N=s(3532),B=s(1589),Y=s(9296),K=s(1052),j=s(3230);const Q={data(){return{localapi:j.PU,proapi:j.Xs,imgBaseUrl:j.XW}},mounted(){this.$nextTick((()=>{new K.Z("#scroll_section",{deceleration:.001,bounce:!0,swipeTime:1800,click:!0})}))},computed:{...(0,N.rn)(["shopDetail"])},components:{headTop:B.Z},mixins:[Y.a],methods:{showLicenseImg(e){this.licenseImg=e,this.showlicenseImg=!0}}};var V=s(8773);const X=(0,V.Z)(Q,[["render",H],["__scopeId","data-v-eb4b82d6"]]),J=X},1063:(e,t,s)=>{s.d(t,{Z:()=>b});var i=s(6440),a=s(1040);const o=e=>((0,i.dD)("data-v-6107aa12"),e=e(),(0,i.Cn)(),e),n={class:"rating_page"},l={class:"header_img"},r=["src"],c=o((()=>(0,i._)("div",{class:"cover"},null,-1))),d={class:"description"},_={class:"detail_container"},h={class:"detail_left"},p={class:"rating_sale"},u=o((()=>(0,i._)("span",null,"评分",-1))),g={key:0};function w(e,t,s,o,w,m){const v=(0,i.up)("head-top"),f=(0,i.up)("rating-star");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(v,{"head-title":w.name,"go-back":"true"},null,8,["head-title"]),(0,i._)("section",l,[(0,i._)("img",{src:w.imgBaseUrl+w.image_path,class:"food_img"},null,8,r),c]),(0,i._)("p",d,(0,a.zw)(w.description),1),(0,i._)("section",_,[(0,i._)("section",h,[(0,i._)("p",null,(0,a.zw)(w.name),1),(0,i._)("div",p,[u,(0,i.Wm)(f,{rating:w.rating},null,8,["rating"]),(0,i._)("span",null,(0,a.zw)(w.rating.toFixed(1)),1)]),(0,i._)("p",null,[(0,i._)("span",null,"月售 "+(0,a.zw)(w.month_sales)+"单",1),(0,i._)("span",null,"售价 ¥"+(0,a.zw)(w.foods.specfoods[0].price),1),w.foods.specfoods.length?((0,i.wg)(),(0,i.iD)("span",g,"起")):(0,i.kq)("",!0)]),(0,i._)("p",null,[(0,i._)("span",null,"评论数 "+(0,a.zw)(w.rating_count),1),(0,i._)("span",null,"好评率 "+(0,a.zw)(w.satisfy_rate)+"%",1)])])])])}var m=s(1589),v=s(9296),f=s(4438),D=s(3845),k=s(3230);const y={data(){return{image_path:null,description:null,month_sales:null,name:null,rating:null,rating_count:null,satisfy_rate:null,foods:null,shopId:null,imgBaseUrl:k.XW}},created(){this.image_path=this.$route.query.image_path,this.description=this.$route.query.description,this.month_sales=this.$route.query.month_sales,this.name=this.$route.query.name,this.rating=this.$route.query.rating,this.rating_count=this.$route.query.rating_count,this.satisfy_rate=this.$route.query.satisfy_rate,this.foods=this.$route.query.foods,this.shopId=this.$route.query.shopId},mixins:[v.a],components:{headTop:m.Z,ratingStar:f.Z,buyCart:D.Z},props:[],methods:{}};var C=s(8773);const x=(0,C.Z)(y,[["render",w],["__scopeId","data-v-6107aa12"]]),b=x},4139:(e,t,s)=>{s.d(t,{Z:()=>N});var i=s(6440),a=s(1040),o=s(1254);const n=e=>((0,i.dD)("data-v-669c9658"),e=e(),(0,i.Cn)(),e),l={class:"rating_page"},r={class:"activities_container"},c=n((()=>(0,i._)("header",null,"活动与属性",-1))),d={class:"actibities_ul"},_={class:"actibities_ul"},h={class:"shop_status_container"},p=n((()=>(0,i._)("span",{class:"shop_detail_title"},"食品监督安全公示",-1))),u=n((()=>(0,i._)("div",null,[(0,i._)("span",{class:"identification_detail"},"企业认证详情"),(0,i._)("svg",{width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg",version:"1.1",class:"description_arrow"},[(0,i._)("path",{d:"M0 0 L8 7 L0 14",stroke:"#bbb","stroke-width":"1.5",fill:"none"})])],-1))),g={class:"shop_statu_detail"},w={key:0,class:"shop_status"},m=n((()=>(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#res-well"},null,-1))),v=[m],f={key:1,class:"res-well"},D=n((()=>(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#res-bad"},null,-1))),k=[D],y={class:"check_date"},C=n((()=>(0,i._)("span",null,"监督检查结果：",-1))),x={key:0,class:"shop_status_well"},b={key:1,class:"shop_status_bad"},I=n((()=>(0,i._)("span",null,"检查日期：",-1))),T={class:"shop_status_info"},L=n((()=>(0,i._)("header",null,"商家信息",-1))),z=n((()=>(0,i._)("span",null,"营业执照",-1))),S=n((()=>(0,i._)("svg",{width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg",version:"1.1",class:"description_arrow"},[(0,i._)("path",{d:"M0 0 L8 7 L0 14",stroke:"#bbb","stroke-width":"1.5",fill:"none"})],-1))),A=[z,S],q=n((()=>(0,i._)("span",null,"餐饮服务许可证",-1))),F=n((()=>(0,i._)("svg",{width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg",version:"1.1",class:"description_arrow"},[(0,i._)("path",{d:"M0 0 L8 7 L0 14",stroke:"#bbb","stroke-width":"1.5",fill:"none"})],-1))),R=[q,F],W=["src"];function E(e,t,s,n,m,D){const z=(0,i.up)("head-top"),S=(0,i.up)("router-link"),q=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(z,{"head-title":"商家详情","go-back":"true"}),(0,i._)("section",r,[c,(0,i._)("ul",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.shopDetail.activities,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id},[(0,i._)("span",{style:(0,a.j5)({backgroundColor:"#"+e.icon_color})},(0,a.zw)(e.icon_name),5),(0,i._)("span",null,(0,a.zw)(e.description)+"(APP专享)",1)])))),128))]),(0,i._)("ul",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.shopDetail.supports,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id},[(0,i._)("span",{style:(0,a.j5)({backgroundColor:"#"+e.icon_color})},(0,a.zw)(e.icon_name),5),(0,i._)("span",null,(0,a.zw)(e.description)+"(APP专享)",1)])))),128))])]),(0,i._)("section",h,[(0,i.Wm)(S,{to:"/shop/shopDetail/shopSafe",class:"shop_status_header"},{default:(0,i.w5)((()=>[p,u])),_:1}),(0,i._)("section",g,[(0,i._)("div",null,[1==e.shopDetail.status?((0,i.wg)(),(0,i.iD)("svg",w,v)):((0,i.wg)(),(0,i.iD)("svg",f,k))]),(0,i._)("div",y,[(0,i._)("p",null,[C,1==e.shopDetail.status?((0,i.wg)(),(0,i.iD)("span",x,"良好")):((0,i.wg)(),(0,i.iD)("span",b,"差"))]),(0,i._)("p",null,[I,(0,i._)("span",null,(0,a.zw)(e.shopDetail.identification.identificate_date&&e.shopDetail.identification.identificate_date.split("T")[0]),1)])])])]),(0,i._)("section",T,[L,(0,i._)("p",null,(0,a.zw)(e.shopDetail.name),1),(0,i._)("p",null,"地址："+(0,a.zw)(e.shopDetail.address),1),(0,i._)("p",null,"营业时间：["+(0,a.zw)(e.shopDetail.opening_hours[0])+"]",1),(0,i._)("p",{onClick:t[0]||(t[0]=t=>D.showLicenseImg(e.shopDetail.license.business_license_image))},A),(0,i._)("p",{onClick:t[1]||(t[1]=t=>D.showLicenseImg(e.shopDetail.license.catering_service_license_image))},R)]),(0,i.Wm)(o.uT,{name:"fade"},{default:(0,i.w5)((()=>[m.showlicenseImg?((0,i.wg)(),(0,i.iD)("section",{key:0,class:"license_container",onClick:t[2]||(t[2]=e=>m.showlicenseImg=!1)},[(0,i._)("img",{src:m.imgBaseUrl+m.licenseImg},null,8,W)])):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(o.uT,{name:"router-slid",mode:"out-in"},{default:(0,i.w5)((()=>[(0,i.Wm)(q)])),_:1})])}var Z=s(1589),M=s(3532),O=s(9296),P=s(3230);const U={data(){return{licenseImg:null,showlicenseImg:!1,imgBaseUrl:P.XW}},mounted(){},computed:{...(0,M.rn)(["shopDetail"])},components:{headTop:Z.Z},mixins:[O.a],methods:{showLicenseImg(e){this.licenseImg=e,this.showlicenseImg=!0}}};var $=s(8773);const H=(0,$.Z)(U,[["render",E],["__scopeId","data-v-669c9658"]]),N=H},1369:(e,t,s)=>{s.d(t,{Z:()=>Ft});var i=s(6440),a=s(1040),o=s(1254),n=s(3844);const l=e=>((0,i.dD)("data-v-2ef02cba"),e=e(),(0,i.Cn)(),e),r={key:0,class:"shop_container"},c=l((()=>(0,i._)("svg",{width:"4rem",height:"100%",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},[(0,i._)("polyline",{points:"12,18 4,9 12,0",style:{fill:"none",stroke:"rgb(255,255,255)","stroke-width":"3"}})],-1))),d=[c],_={class:"header_cover_img_con"},h=["src"],p={class:"description_header"},u={class:"description_left"},g=["src"],w={class:"description_right"},m={class:"description_title ellipsis"},v={class:"description_text"},f={class:"description_promotion ellipsis"},D=l((()=>(0,i._)("svg",{width:"14",height:"14",xmlns:"http://www.w3.org/2000/svg",version:"1.1",class:"description_arrow"},[(0,i._)("path",{d:"M0 0 L8 7 L0 14",stroke:"#fff","stroke-width":"1",fill:"none"})],-1))),k={class:"ellipsis"},y=l((()=>(0,i._)("svg",{class:"footer_arrow"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-left"})],-1))),C={key:0,class:"activities_details"},x={class:"activities_shoptitle"},b={class:"activities_ratingstar"},I={class:"activities_list"},T=l((()=>(0,i._)("header",{class:"activities_title_style"},[(0,i._)("span",null,"优惠信息")],-1))),L={class:"activities_shopinfo"},z=l((()=>(0,i._)("header",{class:"activities_title_style"},[(0,i._)("span",null,"商家公告")],-1))),S=l((()=>(0,i._)("circle",{cx:"30",cy:"30",r:"25",stroke:"#555","stroke-width":"1",fill:"none"},null,-1))),A=l((()=>(0,i._)("line",{x1:"22",y1:"38",x2:"38",y2:"22",style:{stroke:"#999","stroke-width":"2"}},null,-1))),q=l((()=>(0,i._)("line",{x1:"22",y1:"22",x2:"38",y2:"38",style:{stroke:"#999","stroke-width":"2"}},null,-1))),F=[S,A,q],R={class:"change_show_type",ref:"chooseType"},W={class:"food_container"},E={class:"menu_container"},Z={class:"menu_left",id:"wrapper_menu",ref:"wrapperMenu"},M=["onClick"],O=["src"],P={key:1,class:"category_num"},U={class:"menu_right",ref:"menuFoodList"},$={class:"menu_detail_header"},H={class:"menu_detail_header_left"},N={class:"menu_item_title"},B={class:"menu_item_description"},Y=["onClick"],K={key:0,class:"description_tip"},j={class:"menu_food_img"},Q=["src"],V={class:"menu_food_description"},X={class:"food_description_head"},J={class:"description_foodname"},G={key:0,class:"attributes_ul"},ee={class:"food_description_content"},te={class:"food_description_sale_rating"},se={key:0,class:"food_activity"},ie={class:"menu_detail_footer"},ae={class:"food_price"},oe=l((()=>(0,i._)("span",null,"¥",-1))),ne={key:0},le={class:"buy_cart_container"},re={key:0,class:"cart_list_length"},ce=l((()=>(0,i._)("svg",{class:"cart_icon"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-icon"})],-1))),de={class:"cart_num"},_e={key:0,class:"gotopay_button_style"},he={class:"cart_food_list"},pe=l((()=>(0,i._)("h4",null,"购物车",-1))),ue=l((()=>(0,i._)("svg",null,[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-remove"})],-1))),ge=l((()=>(0,i._)("span",{class:"clear_cart"},"清空",-1))),we=[ue,ge],me={class:"cart_food_details",id:"cartFood"},ve={class:"cart_list_num"},fe={class:"ellipsis"},De={class:"ellipsis"},ke={class:"cart_list_price"},ye=l((()=>(0,i._)("span",null,"¥",-1))),Ce={class:"cart_list_control"},xe=["onClick"],be=l((()=>(0,i._)("svg",null,[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-minus"})],-1))),Ie=[be],Te={class:"cart_num"},Le=["onClick"],ze=l((()=>(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-add"},null,-1))),Se=[ze],Ae={class:"rating_container",id:"ratingContainer"},qe={type:"2"},Fe={class:"rating_header"},Re={class:"rating_header_left"},We=l((()=>(0,i._)("p",null,"综合评价",-1))),Ee={class:"rating_header_right"},Ze=l((()=>(0,i._)("span",null,"服务态度",-1))),Me={class:"rating_num"},Oe=l((()=>(0,i._)("span",null,"菜品评价",-1))),Pe={class:"rating_num"},Ue=l((()=>(0,i._)("span",null,"送达时间",-1))),$e={class:"delivery_time"},He={class:"tag_list_ul"},Ne=["onClick"],Be={class:"rating_list_ul"},Ye=["src"],Ke={class:"rating_list_details"},je={class:"username_star"},Qe={class:"username"},Ve={class:"star_desc"},Xe={class:"time_spent_desc"},Je={class:"rated_at"},Ge={class:"food_img_ul"},et=["src"],tt={class:"food_name_ul"},st={key:0,class:"specs_list"},it={class:"specs_list_header"},at={class:"ellipsis"},ot=l((()=>(0,i._)("line",{x1:"0",y1:"0",x2:"16",y2:"16",stroke:"#666","stroke-width":"1.2"},null,-1))),nt=l((()=>(0,i._)("line",{x1:"0",y1:"16",x2:"16",y2:"0",stroke:"#666","stroke-width":"1.2"},null,-1))),lt=[ot,nt],rt={class:"specs_details"},ct={class:"specs_details_title"},dt=["onClick"],_t={class:"specs_footer"},ht={class:"specs_price"},pt=l((()=>(0,i._)("span",null,"¥ ",-1))),ut={key:0,class:"show_delete_tip"},gt={key:0,class:"move_dot"},wt=l((()=>(0,i._)("svg",{class:"move_liner"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart-add"})],-1))),mt=[wt],vt={key:1,class:"animation_opactiy shop_back_svg_container"},ft=l((()=>(0,i._)("img",{src:n},null,-1))),Dt=[ft];function kt(e,t,s,n,l,c){const S=(0,i.up)("router-link"),A=(0,i.up)("rating-star"),q=(0,i.up)("buy-cart"),ue=(0,i.up)("loading"),ge=(0,i.up)("router-view"),be=(0,i.Q2)("load-more");return(0,i.wg)(),(0,i.iD)("div",null,[l.showLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("section",r,[(0,i._)("nav",{class:"goback",onClick:t[0]||(t[0]=(...e)=>c.goback&&c.goback(...e))},d),(0,i._)("header",{class:"shop_detail_header",ref:"shopheader",style:(0,a.j5)({zIndex:l.showActivities?"14":"10"})},[(0,i._)("div",_,[(0,i._)("img",{src:l.imgBaseUrl+l.shopDetailData.image_path,class:"header_cover_img"},null,8,h)]),(0,i._)("section",p,[(0,i.Wm)(S,{to:"/shop/shopDetail",class:"description_top"},{default:(0,i.w5)((()=>[(0,i._)("section",u,[(0,i._)("img",{src:l.imgBaseUrl+l.shopDetailData.image_path},null,8,g)]),(0,i._)("section",w,[(0,i._)("h4",m,(0,a.zw)(l.shopDetailData.name),1),(0,i._)("p",v,"商家配送／"+(0,a.zw)(l.shopDetailData.order_lead_time)+"分钟送达／配送费¥"+(0,a.zw)(l.shopDetailData.float_delivery_fee),1),(0,i._)("p",f,"公告："+(0,a.zw)(c.promotionInfo),1)]),D])),_:1}),l.shopDetailData.activities.length?((0,i.wg)(),(0,i.iD)("footer",{key:0,class:"description_footer",onClick:t[1]||(t[1]=(...e)=>c.showActivitiesFun&&c.showActivitiesFun(...e))},[(0,i._)("p",k,[(0,i._)("span",{class:"tip_icon",style:(0,a.j5)({backgroundColor:"#"+l.shopDetailData.activities[0].icon_color,borderColor:"#"+l.shopDetailData.activities[0].icon_color})},(0,a.zw)(l.shopDetailData.activities[0].icon_name),5),(0,i._)("span",null,(0,a.zw)(l.shopDetailData.activities[0].description)+"（APP专享）",1)]),(0,i._)("p",null,(0,a.zw)(l.shopDetailData.activities.length)+"个活动",1),y])):(0,i.kq)("",!0)])],4),(0,i.Wm)(o.uT,{name:"fade"},{default:(0,i.w5)((()=>[l.showActivities?((0,i.wg)(),(0,i.iD)("section",C,[(0,i._)("h2",x,(0,a.zw)(l.shopDetailData.name),1),(0,i._)("h3",b,[(0,i.Wm)(A,{rating:l.shopDetailData.rating},null,8,["rating"])]),(0,i._)("section",I,[T,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.shopDetailData.activities,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id},[(0,i._)("span",{class:"activities_icon",style:(0,a.j5)({backgroundColor:"#"+e.icon_color,borderColor:"#"+e.icon_color})},(0,a.zw)(e.icon_name),5),(0,i._)("span",null,(0,a.zw)(e.description)+"（APP专享）",1)])))),128))])]),(0,i._)("section",L,[z,(0,i._)("p",null,(0,a.zw)(c.promotionInfo),1)]),((0,i.wg)(),(0,i.iD)("svg",{width:"60",height:"60",class:"close_activities",onClick:t[2]||(t[2]=(0,o.iM)(((...e)=>c.showActivitiesFun&&c.showActivitiesFun(...e)),["stop"]))},F))])):(0,i.kq)("",!0)])),_:1}),(0,i._)("section",R,[(0,i._)("div",null,[(0,i._)("span",{class:(0,a.C_)({activity_show:"food"==l.changeShowType}),onClick:t[3]||(t[3]=e=>l.changeShowType="food")},"商品",2)]),(0,i._)("div",null,[(0,i._)("span",{class:(0,a.C_)({activity_show:"rating"==l.changeShowType}),onClick:t[4]||(t[4]=e=>l.changeShowType="rating")},"评价",2)])],512),(0,i.Wm)(o.uT,{name:"fade-choose"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("section",W,[(0,i._)("section",E,[(0,i._)("section",Z,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.menuList,((t,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s,class:(0,a.C_)(["menu_left_li",{activity_menu:s==l.menuIndex}]),onClick:e=>c.chooseMenu(s)},[t.icon_url?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.getImgPath(t.icon_url)},null,8,O)):(0,i.kq)("",!0),(0,i._)("span",null,(0,a.zw)(t.name),1),l.categoryNum[s]&&1==t.type?((0,i.wg)(),(0,i.iD)("span",P,(0,a.zw)(l.categoryNum[s]),1)):(0,i.kq)("",!0)],10,M)))),128))])],512),(0,i._)("section",U,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.menuList,((t,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s},[(0,i._)("header",$,[(0,i._)("section",H,[(0,i._)("strong",N,(0,a.zw)(t.name),1),(0,i._)("span",B,(0,a.zw)(t.description),1)]),(0,i._)("span",{class:"menu_detail_header_right",onClick:e=>c.showTitleDetail(s)},null,8,Y),s==l.TitleDetailIndex?((0,i.wg)(),(0,i.iD)("p",K,[(0,i._)("span",null,(0,a.zw)(t.name),1),(0,i.Uk)(" "+(0,a.zw)(t.description),1)])):(0,i.kq)("",!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.foods,((t,s)=>((0,i.wg)(),(0,i.iD)("section",{key:s,class:"menu_detail_list"},[(0,i.Wm)(S,{to:{path:"shop/foodDetail",query:{image_path:t.image_path,description:t.description,month_sales:t.month_sales,name:t.name,rating:t.rating,rating_count:t.rating_count,satisfy_rate:t.satisfy_rate,foods:t,shopId:l.shopId}},tag:"div",class:"menu_detail_link"},{default:(0,i.w5)((()=>[(0,i._)("section",j,[(0,i._)("img",{src:l.imgBaseUrl+t.image_path},null,8,Q)]),(0,i._)("section",V,[(0,i._)("h3",X,[(0,i._)("strong",J,(0,a.zw)(t.name),1),t.attributes.length?((0,i.wg)(),(0,i.iD)("ul",G,[e.attribute?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(t.attributes,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,style:(0,a.j5)({color:"#"+e.icon_color,borderColor:"#"+e.icon_color}),class:(0,a.C_)({attribute_new:"新"==e.icon_name})},[(0,i._)("p",{style:(0,a.j5)({color:"新"==e.icon_name?"#fff":"#"+e.icon_color})},(0,a.zw)("新"==e.icon_name?"新品":e.icon_name),5)],6)))),128)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)]),(0,i._)("p",ee,(0,a.zw)(t.description),1),(0,i._)("p",te,[(0,i._)("span",null,"月售"+(0,a.zw)(t.month_sales)+"份",1),(0,i._)("span",null,"好评率"+(0,a.zw)(t.satisfy_rate)+"%",1)]),t.activity?((0,i.wg)(),(0,i.iD)("p",se,[(0,i._)("span",{style:(0,a.j5)({color:"#"+t.activity.image_text_color,borderColor:"#"+t.activity.icon_color})},(0,a.zw)(t.activity.image_text),5)])):(0,i.kq)("",!0)])])),_:2},1032,["to"]),(0,i._)("footer",ie,[(0,i._)("section",ae,[oe,(0,i._)("span",null,(0,a.zw)(t.specfoods[0].price),1),t.specifications.length?((0,i.wg)(),(0,i.iD)("span",ne,"起")):(0,i.kq)("",!0)]),(0,i.Wm)(q,{shopId:l.shopId,foods:t,onMoveInCart:c.listenInCart,onShowChooseList:c.showChooseList,onShowReduceTip:c.showReduceTip,onShowMoveDot:c.showMoveDotFun},null,8,["shopId","foods","onMoveInCart","onShowChooseList","onShowReduceTip","onShowMoveDot"])])])))),128))])))),128))])],512)]),(0,i._)("section",le,[(0,i._)("section",{onClick:t[5]||(t[5]=(...e)=>c.toggleCartList&&c.toggleCartList(...e)),class:"cart_icon_num"},[(0,i._)("div",{class:(0,a.C_)(["cart_icon_container",{cart_icon_activity:l.totalPrice>0,move_in_cart:l.receiveInCart}]),ref:"cartContainer"},[c.totalNum?((0,i.wg)(),(0,i.iD)("span",re,(0,a.zw)(c.totalNum),1)):(0,i.kq)("",!0),ce],2),(0,i._)("div",de,[(0,i._)("div",null,"¥ "+(0,a.zw)(l.totalPrice),1),(0,i._)("div",null,"配送费¥"+(0,a.zw)(c.deliveryFee),1)])]),(0,i._)("section",{class:(0,a.C_)(["gotopay",{gotopay_acitvity:c.minimumOrderAmount<=0}])},[c.minimumOrderAmount>0?((0,i.wg)(),(0,i.iD)("span",_e,"还差¥"+(0,a.zw)(c.minimumOrderAmount)+"起送",1)):((0,i.wg)(),(0,i.j4)(S,{key:1,to:{path:"/confirmOrder",query:{geohash:l.geohash,shopId:l.shopId}},class:"gotopay_button_style"},{default:(0,i.w5)((()=>[(0,i.Uk)("去结算")])),_:1},8,["to"]))],2)]),(0,i.Wm)(o.uT,{name:"toggle-cart"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("section",he,[(0,i._)("header",null,[pe,(0,i._)("div",{onClick:t[6]||(t[6]=(...e)=>c.clearCart&&c.clearCart(...e))},we)]),(0,i._)("section",me,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.cartFoodList,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:"cart_food_li"},[(0,i._)("div",ve,[(0,i._)("p",fe,(0,a.zw)(e.name),1),(0,i._)("p",De,(0,a.zw)(e.specs),1)]),(0,i._)("div",ke,[ye,(0,i._)("span",null,(0,a.zw)(e.price),1)]),(0,i._)("section",Ce,[(0,i._)("span",{onClick:t=>c.removeOutCart(e.category_id,e.item_id,e.food_id,e.name,e.price,e.specs)},Ie,8,xe),(0,i._)("span",Te,(0,a.zw)(e.num),1),((0,i.wg)(),(0,i.iD)("svg",{class:"cart_add",onClick:t=>c.addToCart(e.category_id,e.item_id,e.food_id,e.name,e.price,e.specs)},Se,8,Le))])])))),128))])])],512),[[o.F8,l.showCartList&&l.cartFoodList.length]])])),_:1}),(0,i.Wm)(o.uT,{name:"fade"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",{class:"screen_cover",onClick:t[7]||(t[7]=(...e)=>c.toggleCartList&&c.toggleCartList(...e))},null,512),[[o.F8,l.showCartList&&l.cartFoodList.length]])])),_:1})],512),[[o.F8,"food"==l.changeShowType]])])),_:1}),(0,i.Wm)(o.uT,{name:"fade-choose"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("section",Ae,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("section",qe,[(0,i._)("section",null,[(0,i._)("header",Fe,[(0,i._)("section",Re,[(0,i._)("p",null,(0,a.zw)(l.shopDetailData.rating),1),We,(0,i._)("p",null,"高于周边商家"+(0,a.zw)((100*l.ratingScoresData.compare_rating).toFixed(1))+"%",1)]),(0,i._)("section",Ee,[(0,i._)("p",null,[Ze,(0,i.Wm)(A,{rating:l.ratingScoresData.service_score},null,8,["rating"]),(0,i._)("span",Me,(0,a.zw)(l.ratingScoresData.service_score.toFixed(1)),1)]),(0,i._)("p",null,[Oe,(0,i.Wm)(A,{rating:l.ratingScoresData.food_score},null,8,["rating"]),(0,i._)("span",Pe,(0,a.zw)(l.ratingScoresData.food_score.toFixed(1)),1)]),(0,i._)("p",null,[Ue,(0,i._)("span",$e,(0,a.zw)(l.shopDetailData.order_lead_time)+"分钟",1)])])]),(0,i._)("ul",He,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.ratingTagsList,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:(0,a.C_)({unsatisfied:e.unsatisfied,tagActivity:l.ratingTageIndex==t}),onClick:s=>c.changeTgeIndex(t,e.name)},(0,a.zw)(e.name)+"("+(0,a.zw)(e.count)+")",11,Ne)))),128))]),(0,i._)("ul",Be,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.ratingList,((t,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s,class:"rating_list_li"},[(0,i._)("img",{src:e.getImgPath(t.avatar),class:"user_avatar"},null,8,Ye),(0,i._)("section",Ke,[(0,i._)("header",null,[(0,i._)("section",je,[(0,i._)("p",Qe,(0,a.zw)(t.username),1),(0,i._)("p",Ve,[(0,i.Wm)(A,{rating:t.rating_star},null,8,["rating"]),(0,i._)("span",Xe,(0,a.zw)(t.time_spent_desc),1)])]),(0,i._)("time",Je,(0,a.zw)(t.rated_at),1)]),(0,i._)("ul",Ge,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.item_ratings,((t,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s},[t.image_hash?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.getImgPath(t.image_hash)},null,8,et)):(0,i.kq)("",!0)])))),128))]),(0,i._)("ul",tt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.item_ratings,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:"ellipsis"},(0,a.zw)(e.food_name),1)))),128))])])])))),128))])])])),[[be,c.loaderMoreRating]])],512),[[o.F8,"rating"==l.changeShowType]])])),_:1})])),(0,i._)("section",null,[(0,i.Wm)(o.uT,{name:"fade"},{default:(0,i.w5)((()=>[l.showSpecs?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"specs_cover",onClick:t[8]||(t[8]=(...e)=>c.showChooseList&&c.showChooseList(...e))})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(o.uT,{name:"fadeBounce"},{default:(0,i.w5)((()=>[l.showSpecs?((0,i.wg)(),(0,i.iD)("div",st,[(0,i._)("header",it,[(0,i._)("h4",at,(0,a.zw)(l.choosedFoods.name),1),((0,i.wg)(),(0,i.iD)("svg",{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",version:"1.1",class:"specs_cancel",onClick:t[9]||(t[9]=(...e)=>c.showChooseList&&c.showChooseList(...e))},lt))]),(0,i._)("section",rt,[(0,i._)("h5",ct,(0,a.zw)(l.choosedFoods.specifications[0].name),1),(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.choosedFoods.specifications[0].values,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:(0,a.C_)({specs_activity:t==l.specsIndex}),onClick:e=>c.chooseSpecs(t)},(0,a.zw)(e),11,dt)))),256))])]),(0,i._)("footer",_t,[(0,i._)("div",ht,[pt,(0,i._)("span",null,(0,a.zw)(l.choosedFoods.specfoods[l.specsIndex].price),1)]),(0,i._)("div",{class:"specs_addto_cart",onClick:t[10]||(t[10]=e=>c.addSpecs(l.choosedFoods.category_id,l.choosedFoods.item_id,l.choosedFoods.specfoods[l.specsIndex].food_id,l.choosedFoods.specfoods[l.specsIndex].name,l.choosedFoods.specfoods[l.specsIndex].price,l.choosedFoods.specifications[0].values[l.specsIndex],l.choosedFoods.specfoods[l.specsIndex].packing_fee,l.choosedFoods.specfoods[l.specsIndex].sku_id,l.choosedFoods.specfoods[l.specsIndex].stock))},"加入购物车")])])):(0,i.kq)("",!0)])),_:1})]),(0,i.Wm)(o.uT,{name:"fade"},{default:(0,i.w5)((()=>[l.showDeleteTip?((0,i.wg)(),(0,i.iD)("p",ut,"多规格商品只能去购物车删除哦")):(0,i.kq)("",!0)])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.showMoveDot,((e,t)=>((0,i.wg)(),(0,i.j4)(o.uT,{appear:"",onAfterAppear:c.afterEnter,onBeforeAppear:c.beforeEnter},{default:(0,i.w5)((()=>[e?((0,i.wg)(),(0,i.iD)("span",gt,mt)):(0,i.kq)("",!0)])),_:2},1032,["onAfterAppear","onBeforeAppear"])))),256)),(0,i.wy)((0,i.Wm)(ue,null,null,512),[[o.F8,l.showLoading||l.loadRatings]]),l.showLoading?((0,i.wg)(),(0,i.iD)("section",vt,Dt)):(0,i.kq)("",!0),(0,i.Wm)(o.uT,{name:"router-slid",mode:"out-in"},{default:(0,i.w5)((()=>[(0,i.Wm)(ge)])),_:1})])}var yt=s(3532),Ct=s(9849),xt=s(4949),bt=s(3845),It=s(4438),Tt=s(9296),Lt=s(3230),zt=s(1052);const St={data(){return{geohash:"",shopId:null,showLoading:!0,changeShowType:"food",shopDetailData:null,showActivities:!1,menuList:[],menuIndex:0,menuIndexChange:!0,shopListTop:[],TitleDetailIndex:null,categoryNum:[],totalPrice:0,cartFoodList:[],showCartList:!1,receiveInCart:!1,ratingList:null,ratingOffset:0,ratingScoresData:null,ratingTagsList:null,ratingTageIndex:0,preventRepeatRequest:!1,ratingTagName:"",loadRatings:!1,foodScroll:null,showSpecs:!1,specsIndex:0,choosedFoods:null,showDeleteTip:!1,showMoveDot:[],windowHeight:null,elLeft:0,elBottom:0,ratingScroll:null,imgBaseUrl:Lt.XW}},created(){this.geohash=this.$route.query.geohash,this.shopId=this.$route.query.id,this.INIT_BUYCART()},mounted(){this.initData(),this.windowHeight=window.innerHeight},beforeDestroy(){},mixins:[Tt.n,Tt.a],components:{loading:xt.Z,ratingStar:It.Z,buyCart:bt.Z},computed:{...(0,yt.rn)(["latitude","longitude","cartList"]),promotionInfo:function(){return this.shopDetailData.promotion_info||"欢迎光临，用餐高峰期请提前下单，谢谢。"},deliveryFee:function(){return this.shopDetailData?this.shopDetailData.float_delivery_fee:null},minimumOrderAmount:function(){return this.shopDetailData?this.shopDetailData.float_minimum_order_amount-this.totalPrice:null},shopCart:function(){return{...this.cartList[this.shopId]}},totalNum:function(){let e=0;return this.cartFoodList.forEach((t=>{e+=t.num})),e}},methods:{...(0,yt.OI)(["RECORD_ADDRESS","ADD_CART","REDUCE_CART","INIT_BUYCART","CLEAR_CART","RECORD_SHOPDETAIL"]),async initData(){if(!this.latitude){let e=await(0,Ct.iJ)(this.geohash);this.RECORD_ADDRESS(e)}this.shopDetailData=await(0,Ct.KN)(this.shopId,this.latitude,this.longitude),this.menuList=await(0,Ct.Yk)(this.shopId),this.ratingList=await(0,Ct.Pm)(this.shopId,this.ratingOffset),this.ratingScoresData=await(0,Ct.Rq)(this.shopId),this.ratingTagsList=await(0,Ct.W)(this.shopId),this.RECORD_SHOPDETAIL(this.shopDetailData),this.hideLoading()},getFoodListHeight(){const e=this.$refs.menuFoodList;if(e){const t=Array.from(e.children[0].children);t.forEach(((e,t)=>{this.shopListTop[t]=e.offsetTop})),this.listenScroll(e)}},listenScroll(e){this.foodScroll=new zt.Z(e,{probeType:3,deceleration:.001,bounce:!1,swipeTime:2e3,click:!0});const t=new zt.Z("#wrapper_menu",{click:!0}),s=this.$refs.wrapperMenu.clientHeight;this.foodScroll.on("scroll",(e=>{this.$refs.wrapperMenu&&this.shopListTop.forEach(((i,a)=>{if(this.menuIndexChange&&Math.abs(Math.round(e.y))>=i){this.menuIndex=a;const e=this.$refs.wrapperMenu.querySelectorAll(".activity_menu"),i=e[0];t.scrollToElement(i,800,0,-(s/2-50))}}))}))},showActivitiesFun(){this.showActivities=!this.showActivities},chooseMenu(e){this.menuIndex=e,this.menuIndexChange=!1,this.foodScroll.scrollTo(0,-this.shopListTop[e],400),this.foodScroll.on("scrollEnd",(()=>{this.menuIndexChange=!0}))},showTitleDetail(e){this.TitleDetailIndex==e?this.TitleDetailIndex=null:this.TitleDetailIndex=e},addToCart(e,t,s,i,a,o){this.ADD_CART({shopid:this.shopId,category_id:e,item_id:t,food_id:s,name:i,price:a,specs:o})},removeOutCart(e,t,s,i,a,o){this.REDUCE_CART({shopid:this.shopId,category_id:e,item_id:t,food_id:s,name:i,price:a,specs:o})},initCategoryNum(){let e=[],t=0;this.totalPrice=0,this.cartFoodList=[],this.menuList.forEach(((s,i)=>{if(this.shopCart&&this.shopCart[s.foods[0].category_id]){let a=0;Object.keys(this.shopCart[s.foods[0].category_id]).forEach((e=>{Object.keys(this.shopCart[s.foods[0].category_id][e]).forEach((i=>{let o=this.shopCart[s.foods[0].category_id][e][i];a+=o.num,1==s.type&&(this.totalPrice+=o.num*o.price,o.num>0&&(this.cartFoodList[t]={},this.cartFoodList[t].category_id=s.foods[0].category_id,this.cartFoodList[t].item_id=e,this.cartFoodList[t].food_id=i,this.cartFoodList[t].num=o.num,this.cartFoodList[t].price=o.price,this.cartFoodList[t].name=o.name,this.cartFoodList[t].specs=o.specs,t++))}))})),e[i]=a}else e[i]=0})),this.totalPrice=this.totalPrice.toFixed(2),this.categoryNum=[...e]},toggleCartList(){!this.cartFoodList.length||(this.showCartList=!this.showCartList)},clearCart(){this.toggleCartList(),this.CLEAR_CART(this.shopId)},listenInCart(){this.receiveInCart||(this.receiveInCart=!0,this.$refs.cartContainer.addEventListener("animationend",(()=>{this.receiveInCart=!1})),this.$refs.cartContainer.addEventListener("webkitAnimationEnd",(()=>{this.receiveInCart=!1})))},async changeTgeIndex(e,t){this.ratingTageIndex=e,this.ratingOffset=0,this.ratingTagName=t;let s=await(0,Ct.Pm)(this.shopId,this.ratingOffset,t);this.ratingList=[...s],this.$nextTick((()=>{this.ratingScroll.refresh()}))},async loaderMoreRating(){if(this.preventRepeatRequest)return;this.loadRatings=!0,this.preventRepeatRequest=!0,this.ratingOffset+=10;let e=await(0,Ct.Pm)(this.shopId,this.ratingOffset,this.ratingTagName);this.ratingList=[...this.ratingList,...e],this.loadRatings=!1,e.length>=10&&(this.preventRepeatRequest=!1)},hideLoading(){this.showLoading=!1},showChooseList(e){e&&(this.choosedFoods=e),this.showSpecs=!this.showSpecs,this.specsIndex=0},chooseSpecs(e){this.specsIndex=e},addSpecs(e,t,s,i,a,o,n,l,r){this.ADD_CART({shopid:this.shopId,category_id:e,item_id:t,food_id:s,name:i,price:a,specs:o,packing_fee:n,sku_id:l,stock:r}),this.showChooseList()},showReduceTip(){this.showDeleteTip=!0,clearTimeout(this.timer),this.timer=setTimeout((()=>{clearTimeout(this.timer),this.showDeleteTip=!1}),3e3)},showMoveDotFun(e,t,s){this.showMoveDot=[...this.showMoveDot,...e],this.elLeft=t,this.elBottom=s},beforeEnter(e){e.style.transform=`translate3d(0,${37+this.elBottom-this.windowHeight}px,0)`,e.children[0].style.transform=`translate3d(${this.elLeft-30}px,0,0)`,e.children[0].style.opacity=0},afterEnter(e){e.style.transform="translate3d(0,0,0)",e.children[0].style.transform="translate3d(0,0,0)",e.style.transition="transform .55s cubic-bezier(0.3, -0.25, 0.7, -0.15)",e.children[0].style.transition="transform .55s linear",this.showMoveDot=this.showMoveDot.map((e=>!1)),e.children[0].style.opacity=1,e.children[0].addEventListener("transitionend",(()=>{this.listenInCart()})),e.children[0].addEventListener("webkitAnimationEnd",(()=>{this.listenInCart()}))},goback(){this.$router.go(-1)}},watch:{showLoading:function(e){e||this.$nextTick((()=>{this.getFoodListHeight(),this.initCategoryNum()}))},shopCart:function(e){this.initCategoryNum()},cartFoodList:function(e){e.length||(this.showCartList=!1)},changeShowType:function(e){"rating"===e&&this.$nextTick((()=>{this.ratingScroll=new zt.Z("#ratingContainer",{probeType:3,deceleration:.003,bounce:!1,swipeTime:2e3,click:!0}),this.ratingScroll.on("scroll",(e=>{Math.abs(Math.round(e.y))>=Math.abs(Math.round(this.ratingScroll.maxScrollY))&&(this.loaderMoreRating(),this.ratingScroll.refresh())}))}))}}};var At=s(8773);const qt=(0,At.Z)(St,[["render",kt],["__scopeId","data-v-2ef02cba"]]),Ft=qt},6036:(e,t,s)=>{s.d(t,{Z:()=>u});var i=s(6440),a=s(9406);const o=e=>((0,i.dD)("data-v-1e53623e"),e=e(),(0,i.Cn)(),e),n={class:"page_container"},l=o((()=>(0,i._)("section",{class:"invoice_contianer"},[(0,i._)("img",{src:a}),(0,i._)("p",null,"没有购买记录")],-1)));function r(e,t,s,a,o,r){const c=(0,i.up)("head-top");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(c,{"head-title":"购买记录","go-back":"true"}),l])}var c=s(1589),d=s(3532);s(9849);const _={data(){return{}},mounted(){},computed:{...(0,d.rn)(["userInfo"])},components:{headTop:c.Z},methods:{...(0,d.OI)(["SAVE_AVANDER"])}};var h=s(8773);const p=(0,h.Z)(_,[["render",r],["__scopeId","data-v-1e53623e"]]),u=p},4344:(e,t,s)=>{s.d(t,{Z:()=>v});var i=s(6440),a=s(1040),o=s(1254);const n={class:"page_container"},l={class:"buy_for"},r={class:"form_style"},c=(0,i.uE)('<footer class="Binding" data-v-00bb4e46><h3 data-v-00bb4e46>——温馨提示——</h3><p data-v-00bb4e46>新兑换的会员服务，权益以「会员说明」为准。</p><p data-v-00bb4e46>月卡：<b data-v-00bb4e46>30次</b>减免配送费。</p><p data-v-00bb4e46>季卡：<b data-v-00bb4e46>90次</b>减免配送费。</p><p data-v-00bb4e46>年卡：<b data-v-00bb4e46>360</b>次减免配送费。</p><p data-v-00bb4e46>＊仅限蜂鸟专送订单，每日最多减免3单，每单最高减免4元（一个月按31天计算）</p></footer>',1);function d(e,t,s,d,_,h){const p=(0,i.up)("head-top"),u=(0,i.up)("alert-tip");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(p,{"head-title":"兑换会员","go-back":"true"}),(0,i._)("p",l,[(0,i.Uk)("成功兑换后将关联到当前帐号： "),(0,i._)("span",null,(0,a.zw)(e.userInfo.username),1)]),(0,i._)("form",r,[(0,i.wy)((0,i._)("input",{type:"text",name:"cartNumber",maxlength:"10","onUpdate:modelValue":t[0]||(t[0]=e=>_.cartNumber=e),placeholder:"请输入10位卡号"},null,512),[[o.nr,_.cartNumber]]),(0,i.wy)((0,i._)("input",{type:"text",name:"passWord",maxlength:"6","onUpdate:modelValue":t[1]||(t[1]=e=>_.passWord=e),placeholder:"请输入6位卡密"},null,512),[[o.nr,_.passWord]])]),(0,i._)("p",{class:(0,a.C_)(["determine",{could_pay:h.couldPay}]),onClick:t[2]||(t[2]=(...e)=>h.confrimPay&&h.confrimPay(...e))},"兑换",2),c,_.showAlert?((0,i.wg)(),(0,i.j4)(u,{key:0,onCloseTip:t[3]||(t[3]=e=>_.showAlert=!1),alertText:_.alertText},null,8,["alertText"])):(0,i.kq)("",!0)])}var _=s(1589),h=s(3532),p=s(9849),u=s(8842);const g={data(){return{cartNumber:null,passWord:null,showAlert:!1,alertText:null}},mounted(){},computed:{...(0,h.rn)(["userInfo"]),couldPay:function(){return/^\d{10}$/.test(this.cartNumber)&&/^\d{6}$/.test(this.passWord)}},components:{headTop:_.Z,alertTip:u.Z},methods:{async confrimPay(){if(this.couldPay){let e=await(0,p.ts)(this.userInfo.id,this.cartNumber,this.passWord);e.message?(this.showAlert=!0,this.alertText=e.message):e.name&&(this.showAlert=!0,this.alertText=e.name)}}}};var w=s(8773);const m=(0,w.Z)(g,[["render",d],["__scopeId","data-v-00bb4e46"]]),v=m},9831:(e,t,s)=>{s.d(t,{Z:()=>h});var i=s(6440);const a={class:"page_container"},o=(0,i.uE)('<div class="markdown" data-v-d7601dde><blockquote data-v-d7601dde><p data-v-d7601dde>尊敬的用户，随着会员体系逐渐完善，自2016年10月10日起，饿了么会员权益将做如下优化： 购卡后31天内，累积享有30单减免配送费服务（每日最多3单，每单最高减免4元）。 注：已购买的会员服务不受影响，当前会员服务失效前无法购买新卡。</p></blockquote><h3 id="q1-" data-v-d7601dde>Q1: 特权介绍</h3><ul data-v-d7601dde><li data-v-d7601dde>身份标识：饿了么会员服务有效期内，享有专属皇冠标识。</li><li data-v-d7601dde>减免配送费： 饿了么会员卡自绑定账户之日起31天内，在「蜂鸟专送」标识商家下单，享有30次减免配送费特权，每日最多减免3单，每单最高可减4元。</li><li data-v-d7601dde>更多特权，敬请期待！</li></ul><h3 id="q2-" data-v-d7601dde>Q2: 资费介绍</h3><ul data-v-d7601dde><li data-v-d7601dde>饿了么会员卡：20元</li></ul><h3 id="q3-" data-v-d7601dde>Q3: 使用说明</h3><p data-v-d7601dde>当用户满足以下任一条件，会员服务自动失效：</p><ol data-v-d7601dde><li data-v-d7601dde>自绑定之日起超过31天；</li><li data-v-d7601dde>在31天内累计使用减免配送费的蜂鸟订单数量达到30单；</li></ol><h3 id="q4-" data-v-d7601dde>Q4: 购卡说明</h3><ul data-v-d7601dde><li data-v-d7601dde>在线购买：饿了么App&gt;我的&gt;饿了么会员卡</li></ul><h3 id="q5-" data-v-d7601dde>Q5: 温馨提示</h3><ul data-v-d7601dde><li data-v-d7601dde>用户在当前会员服务失效前，无法购买新卡。</li><li data-v-d7601dde>请认准饿了么官方渠道，任何从其他第三方途径获得的会员卡，饿了么不保证其可用性。</li></ul></div>',1);function n(e,t,s,n,l,r){const c=(0,i.up)("head-top");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(c,{"head-title":"我的优惠","go-back":"true"}),o])}var l=s(1589),r=s(3532);s(9849);const c={data(){return{}},mounted(){},computed:{...(0,r.rn)(["userInfo"])},components:{headTop:l.Z},methods:{...(0,r.OI)(["SAVE_AVANDER"])}};var d=s(8773);const _=(0,d.Z)(c,[["render",n],["__scopeId","data-v-d7601dde"]]),h=_},4731:(e,t,s)=>{s.d(t,{Z:()=>S});var i=s(6440),a=s(1040),o=s(1254),n=s(8375),l=s(2196);const r=e=>((0,i.dD)("data-v-d40e5956"),e=e(),(0,i.Cn)(),e),c={class:"rating_page"},d={key:0},_={class:"buy_for"},h={class:"vip_prerogative"},p=r((()=>(0,i._)("span",{class:"header_left"},"会员特权",-1))),u=r((()=>(0,i._)("section",{class:"header_right"},[(0,i._)("span",null,"会员说明"),(0,i._)("svg",{fill:"#ccc"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])],-1))),g=(0,i.uE)('<section class="vip_detail" data-v-d40e5956><div class="vip_detail_left" data-v-d40e5956><img src="'+n+'" height="80" width="70" data-v-d40e5956></div><div class="vip_detail_right" data-v-d40e5956><h4 data-v-d40e5956>减免配送费</h4><p data-v-d40e5956>每月减免30单，每日可减免3单，每单最高减4元</p><p data-v-d40e5956>蜂鸟专送专享</p></div></section><section class="vip_detail" data-v-d40e5956><div class="vip_detail_left" data-v-d40e5956><img src="'+l+'" height="80" width="70" data-v-d40e5956></div><div class="vip_detail_right" data-v-d40e5956><h4 data-v-d40e5956>减免配送费</h4><p data-v-d40e5956>每月减免30单，每日可减免3单，每单最高减4元</p><p data-v-d40e5956>蜂鸟专送专享</p></div></section>',2),w={class:"apply_vip"},m=r((()=>(0,i._)("header",{class:"header_style"},[(0,i._)("span",{class:"header_left"},"开通会员")],-1))),v={class:"apply_vip_buy"},f=r((()=>(0,i._)("div",{class:"apply_vip_buy_left"},[(0,i._)("span",null,"1个月"),(0,i._)("span",null," ¥20")],-1))),D=r((()=>(0,i._)("span",{class:"header_left"},"兑换会员",-1))),k=r((()=>(0,i._)("section",{class:"header_right"},[(0,i._)("span",null,"使用卡号卡密"),(0,i._)("svg",{fill:"#ccc"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])],-1))),y=r((()=>(0,i._)("span",{class:"header_left"},"购买记录",-1))),C=r((()=>(0,i._)("section",{class:"header_right"},[(0,i._)("span",null,"开发票"),(0,i._)("svg",{fill:"#ccc"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])],-1)));function x(e,t,s,n,l,r){const x=(0,i.up)("head-top"),b=(0,i.up)("router-link"),I=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(x,{"head-title":"会员中心","go-back":"true"}),e.userInfo?((0,i.wg)(),(0,i.iD)("section",d,[(0,i._)("p",_,[(0,i.Uk)("为账户 "),(0,i._)("span",null,(0,a.zw)(e.userInfo.username),1),(0,i.Uk)(" 购买会员")]),(0,i._)("section",h,[(0,i.Wm)(b,{to:"/vipcard/vipDescription",class:"header_style"},{default:(0,i.w5)((()=>[p,u])),_:1}),g]),(0,i._)("section",w,[m,(0,i._)("section",v,[f,(0,i._)("div",{class:"apply_vip_buy_right",onClick:t[0]||(t[0]=(...e)=>r.buyCart&&r.buyCart(...e))},"购买")])]),(0,i.Wm)(b,{to:"/vipcard/useCart",class:"header_style common_style"},{default:(0,i.w5)((()=>[D,k])),_:1}),(0,i.Wm)(b,{to:"/vipcard/invoiceRecord",class:"header_style common_style"},{default:(0,i.w5)((()=>[y,C])),_:1})])):(0,i.kq)("",!0),(0,i.Wm)(o.uT,{name:"router-slid",mode:"out-in"},{default:(0,i.w5)((()=>[(0,i.Wm)(I)])),_:1})])}var b=s(1589),I=s(3532);s(9849);const T={data(){return{}},mounted(){},computed:{...(0,I.rn)(["userInfo"])},components:{headTop:b.Z},methods:{...(0,I.OI)(["ORDER_SUCCESS","BUY_CART"]),buyCart(){this.ORDER_SUCCESS({order_id:"399525134200981325"}),this.BUY_CART(20),this.$router.push("/confirmOrder/payment")}}};var L=s(8773);const z=(0,L.Z)(T,[["render",x],["__scopeId","data-v-d40e5956"]]),S=z}}]);
//# sourceMappingURL=app-a349c137.20e456eb.js.map