"use strict";(self["webpackChunkelm"]=self["webpackChunkelm"]||[]).push([[715],{4242:(e,t,s)=>{s.d(t,{Z:()=>b});var i=s(6440),a=s(1040);const n=e=>((0,i.dD)("data-v-83adbf0e"),e=e(),(0,i.Cn)(),e),l={class:"city_nav"},r=n((()=>(0,i._)("div",{class:"city_tip"},[(0,i._)("span",null,"当前定位城市："),(0,i._)("span",null,"定位不准时，请在城市列表中选择")],-1))),o=n((()=>(0,i._)("svg",{class:"arrow_right"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})],-1))),d={id:"hot_city_container"},h=n((()=>(0,i._)("h4",{class:"city_title"},"热门城市",-1))),u={class:"citylistul clear"},c={class:"group_city_container"},p={class:"letter_classify"},_={class:"city_title"},g={key:0},m={class:"groupcity_name_container citylistul clear"};function w(e,t,s,n,w,f){const v=(0,i.up)("head-top"),y=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(v,{"signin-up":"home"},{default:(0,i.w5)((()=>[(0,i._)("span",{slot:"logo",class:"head_logo",onClick:t[0]||(t[0]=(...e)=>f.reload&&f.reload(...e))},"ele.me")])),_:1}),(0,i._)("nav",l,[r,(0,i.Wm)(y,{to:"/city/"+w.guessCityid,class:"guess_city"},{default:(0,i.w5)((()=>[(0,i._)("span",null,(0,a.zw)(w.guessCity),1),o])),_:1},8,["to"])]),(0,i._)("section",d,[h,(0,i._)("ul",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(w.hotcity,(e=>((0,i.wg)(),(0,i.j4)(y,{tag:"li",to:"/city/"+e.id,key:e.id},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.name),1)])),_:2},1032,["to"])))),128))])]),(0,i._)("section",c,[(0,i._)("ul",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(f.sortgroupcity,((e,t,s)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:"letter_classify_li"},[(0,i._)("h4",_,[(0,i.Uk)((0,a.zw)(t)+" ",1),0==s?((0,i.wg)(),(0,i.iD)("span",g,"（按字母排序）")):(0,i.kq)("",!0)]),(0,i._)("ul",m,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,(e=>((0,i.wg)(),(0,i.j4)(y,{tag:"li",to:"/city/"+e.id,key:e.id,class:"ellipsis"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.name),1)])),_:2},1032,["to"])))),128))])])))),128))])])])}var f=s(1589),v=s(9849);const y={data(){return{guessCity:"",guessCityid:"",hotcity:[],groupcity:{}}},mounted(){(0,v.Ku)().then((e=>{this.guessCity=e.name,this.guessCityid=e.id})),(0,v.R7)().then((e=>{this.hotcity=e})),(0,v.Bk)().then((e=>{this.groupcity=e}))},components:{headTop:f.Z},computed:{sortgroupcity(){let e={};for(let t=65;t<=90;t++)this.groupcity[String.fromCharCode(t)]&&(e[String.fromCharCode(t)]=this.groupcity[String.fromCharCode(t)]);return e}},methods:{reload(){window.location.reload()}}};var k=s(8773);const x=(0,k.Z)(y,[["render",w],["__scopeId","data-v-83adbf0e"]]),b=x},2480:(e,t,s)=>{s.d(t,{Z:()=>L});var i=s(6440),a=s(1254),n=s(1040);const l=e=>((0,i.dD)("data-v-7ca3cd80"),e=e(),(0,i.Cn)(),e),r={class:"loginContainer"},o={key:0,class:"loginForm"},d={class:"input_container phone_number"},h={class:"input_container"},u={key:1,class:"loginForm"},c={class:"input_container"},p={class:"input_container"},_=l((()=>(0,i._)("span",null,"abc",-1))),g=l((()=>(0,i._)("span",null,"...",-1))),m={class:"input_container captcha_code_container"},w={class:"img_change_img"},f=["src"],v=l((()=>(0,i._)("p",null,"看不清",-1))),y=l((()=>(0,i._)("p",null,"换一张",-1))),k=[v,y],x=l((()=>(0,i._)("p",{class:"login_tips"}," 温馨提示：未注册过的账号，登录时将自动注册 ",-1))),b=l((()=>(0,i._)("p",{class:"login_tips"}," 注册过的用户可凭账号密码登录 ",-1)));function D(e,t,s,l,v,y){const D=(0,i.up)("head-top"),T=(0,i.up)("router-link"),C=(0,i.up)("alert-tip");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(D,{"head-title":v.loginWay?"登录":"密码登录",goBack:"true"},null,8,["head-title"]),v.loginWay?((0,i.wg)(),(0,i.iD)("form",o,[(0,i._)("section",d,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"账号密码随便输入",name:"phone",maxlength:"11","onUpdate:modelValue":t[0]||(t[0]=e=>v.phoneNumber=e)},null,512),[[a.nr,v.phoneNumber]]),(0,i.wy)((0,i._)("button",{onClick:t[1]||(t[1]=(0,a.iM)(((...e)=>y.getVerifyCode&&y.getVerifyCode(...e)),["prevent"])),class:(0,n.C_)({right_phone_number:y.rightPhoneNumber})}," 获取验证码 ",2),[[a.F8,!v.computedTime]]),(0,i.wy)((0,i._)("button",{onClick:t[2]||(t[2]=(0,a.iM)((()=>{}),["prevent"]))},"已发送("+(0,n.zw)(v.computedTime)+"s)",513),[[a.F8,v.computedTime]])]),(0,i._)("section",h,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"验证码",name:"mobileCode",maxlength:"6","onUpdate:modelValue":t[3]||(t[3]=e=>v.mobileCode=e)},null,512),[[a.nr,v.mobileCode]])])])):((0,i.wg)(),(0,i.iD)("form",u,[(0,i._)("section",c,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"账号","onUpdate:modelValue":t[4]||(t[4]=e=>v.userAccount=e)},null,512),[[a.nr,v.userAccount,void 0,{lazy:!0}]])]),(0,i._)("section",p,[v.showPassword?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,type:"text",placeholder:"密码","onUpdate:modelValue":t[6]||(t[6]=e=>v.passWord=e)},null,512)),[[a.nr,v.passWord]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"password",placeholder:"密码","onUpdate:modelValue":t[5]||(t[5]=e=>v.passWord=e)},null,512)),[[a.nr,v.passWord]]),(0,i._)("div",{class:(0,n.C_)(["button_switch",{change_to_text:v.showPassword}])},[(0,i._)("div",{class:(0,n.C_)(["circle_button",{trans_to_right:v.showPassword}]),onClick:t[7]||(t[7]=(...e)=>y.changePassWordType&&y.changePassWordType(...e))},null,2),_,g],2)]),(0,i._)("section",m,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"验证码",maxlength:"4","onUpdate:modelValue":t[8]||(t[8]=e=>v.codeNumber=e)},null,512),[[a.nr,v.codeNumber]]),(0,i._)("div",w,[(0,i.wy)((0,i._)("img",{src:v.captchaCodeImg},null,8,f),[[a.F8,v.captchaCodeImg]]),(0,i._)("div",{class:"change_img",onClick:t[9]||(t[9]=(...e)=>y.getCaptchaCode&&y.getCaptchaCode(...e))},k)])])])),x,b,(0,i._)("div",{class:"login_container",onClick:t[10]||(t[10]=(...e)=>y.mobileLogin&&y.mobileLogin(...e))},"登录"),v.loginWay?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(T,{key:2,to:"/forget",class:"to_forget"},{default:(0,i.w5)((()=>[(0,i.Uk)("重置密码？")])),_:1})),v.showAlert?((0,i.wg)(),(0,i.j4)(C,{key:3,showHide:v.showAlert,onCloseTip:y.closeTip,alertText:v.alertText},null,8,["showHide","onCloseTip","alertText"])):(0,i.kq)("",!0)])}var T=s(1589),C=s(8842),I=s(3532),A=s(9849);const W={data(){return{loginWay:!1,showPassword:!1,phoneNumber:null,mobileCode:null,validate_token:null,computedTime:0,userInfo:null,userAccount:null,passWord:null,captchaCodeImg:null,codeNumber:null,showAlert:!1,alertText:null}},created(){this.getCaptchaCode()},components:{headTop:T.Z,alertTip:C.Z},computed:{rightPhoneNumber:function(){return/^1\d{10}$/gi.test(this.phoneNumber)}},methods:{...(0,I.OI)(["RECORD_USERINFO"]),changeLoginWay(){this.loginWay=!this.loginWay},changePassWordType(){this.showPassword=!this.showPassword},async getCaptchaCode(){let e=await(0,A.GE)();this.captchaCodeImg=e.code},async getVerifyCode(){if(this.rightPhoneNumber){this.computedTime=30,this.timer=setInterval((()=>{this.computedTime--,0==this.computedTime&&clearInterval(this.timer)}),1e3);let e=await(0,A.Bt)(this.phoneNumber,"mobile");if(e.message)return this.showAlert=!0,void(this.alertText=e.message);if(!e.is_exists)return this.showAlert=!0,void(this.alertText="您输入的手机号尚未绑定");let t=await(0,A.U6)(this.phoneNumber);if(t.message)return this.showAlert=!0,void(this.alertText=t.message);this.validate_token=t.validate_token}},async mobileLogin(){if(this.loginWay){if(!this.rightPhoneNumber)return this.showAlert=!0,void(this.alertText="手机号码不正确");if(!/^\d{6}$/gi.test(this.mobileCode))return this.showAlert=!0,void(this.alertText="短信验证码不正确");this.userInfo=await(0,A.tQ)(this.mobileCode,this.phoneNumber,this.validate_token)}else{if(!this.userAccount)return this.showAlert=!0,void(this.alertText="请输入手机号/邮箱/用户名");if(!this.passWord)return this.showAlert=!0,void(this.alertText="请输入密码");if(!this.codeNumber)return this.showAlert=!0,void(this.alertText="请输入验证码");this.userInfo=await(0,A.vq)(this.userAccount,this.passWord,this.codeNumber)}this.userInfo.user_id?(this.RECORD_USERINFO(this.userInfo),this.$router.go(-1)):(this.showAlert=!0,this.alertText=this.userInfo.message,this.loginWay||this.getCaptchaCode())},closeTip(){this.showAlert=!1}}};var Z=s(8773);const z=(0,Z.Z)(W,[["render",D],["__scopeId","data-v-7ca3cd80"]]),L=z},2346:(e,t,s)=>{s.d(t,{Z:()=>C});var i=s(6440),a=s(1040),n=s(5017);const l=e=>((0,i.dD)("data-v-2c9510df"),e=e(),(0,i.Cn)(),e),r=l((()=>(0,i._)("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},[(0,i._)("circle",{cx:"8",cy:"8",r:"7",stroke:"rgb(255,255,255)","stroke-width":"1",fill:"none"}),(0,i._)("line",{x1:"14",y1:"14",x2:"20",y2:"20",style:{stroke:"rgb(255,255,255)","stroke-width":"2"}})],-1))),o={class:"title_text ellipsis"},d={class:"msite_nav"},h={key:0,class:"swiper-container"},u={class:"swiper-wrapper"},c=["src"],p=l((()=>(0,i._)("div",{class:"swiper-pagination"},null,-1))),_={key:1,src:n,class:"fl_back animation_opactiy"},g={class:"shop_list_container"},m=l((()=>(0,i._)("header",{class:"shop_header"},[(0,i._)("svg",{class:"shop_icon"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#shop"})]),(0,i._)("span",{class:"shop_header_title"},"附近商家")],-1)));function w(e,t,s,n,l,w){const f=(0,i.up)("router-link"),v=(0,i.up)("head-top"),y=(0,i.up)("shop-list"),k=(0,i.up)("foot-guide");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(v,{"signin-up":"msite"},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{to:"/search/geohash",class:"link_search",slot:"search"},{default:(0,i.w5)((()=>[r])),_:1}),(0,i.Wm)(f,{to:"/home",slot:"msite-title",class:"msite_title"},{default:(0,i.w5)((()=>[(0,i._)("span",o,(0,a.zw)(l.msiteTitle),1)])),_:1})])),_:1}),(0,i._)("nav",d,[l.foodTypes.length?((0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.foodTypes,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"swiper-slide food_types_container",key:t},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,(e=>((0,i.wg)(),(0,i.j4)(f,{to:{path:"/food",query:{geohash:l.geohash,title:e.title,restaurant_category_id:w.getCategoryId(e.link)}},key:e.id,class:"link_to_food"},{default:(0,i.w5)((()=>[(0,i._)("figure",null,[(0,i._)("img",{src:l.imgBaseUrl+e.image_url},null,8,c),(0,i._)("figcaption",null,(0,a.zw)(e.title),1)])])),_:2},1032,["to"])))),128))])))),128))]),p])):((0,i.wg)(),(0,i.iD)("img",_))]),(0,i._)("div",g,[m,l.hasGetData?((0,i.wg)(),(0,i.j4)(y,{key:0,geohash:l.geohash},null,8,["geohash"])):(0,i.kq)("",!0)]),(0,i.Wm)(k)])}var f=s(3532),v=s(1589),y=s(1173),k=s(6034),x=s(9849);s(1506);const b={data(){return{geohash:"",msiteTitle:"请选择地址...",foodTypes:[],hasGetData:!1,imgBaseUrl:"https://fuss10.elemecdn.com"}},async beforeMount(){if(this.$route.query.geohash)this.geohash=this.$route.query.geohash;else{const e=await(0,x.Ku)();this.geohash=e.latitude+","+e.longitude}this.SAVE_GEOHASH(this.geohash);let e=await(0,x.iJ)(this.geohash);this.msiteTitle=e.name,this.RECORD_ADDRESS(e),this.hasGetData=!0},mounted(){(0,x.Fi)(this.geohash).then((e=>{let t=e.length,s=[...e],i=[];for(let a=0,n=0;a<t;a+=8,n++)i[n]=s.splice(0,8);this.foodTypes=i})).then((()=>{new Swiper(".swiper-container",{pagination:".swiper-pagination",loop:!0})}))},components:{headTop:v.Z,shopList:k.Z,footGuide:y.Z},computed:{},methods:{...(0,f.OI)(["RECORD_ADDRESS","SAVE_GEOHASH"]),getCategoryId(e){let t=decodeURIComponent(e.split("=")[1].replace("&target_name",""));return/restaurant_category_id/gi.test(t)?JSON.parse(t).restaurant_category_id.id:""}},watch:{}};var D=s(8773);const T=(0,D.Z)(b,[["render",w],["__scopeId","data-v-2c9510df"]]),C=T},7669:(e,t,s)=>{s.d(t,{Z:()=>Q});var i=s(6440),a=s(1040),n=s(1254);const l=e=>((0,i.dD)("data-v-0f4c27dc"),e=e(),(0,i.Cn)(),e),r={class:"order_detail_page"},o={key:0,id:"scroll_section",class:"scroll_container"},d={class:"scroll_insert"},h={class:"order_titel"},u=["src"],c={class:"food_list"},p={class:"shop_name"},_=["src"],g=l((()=>(0,i._)("svg",{fill:"#333",class:"arrow_right"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})],-1))),m={class:"food_list_ul"},w={class:"food_name ellipsis"},f={class:"quantity_price"},v={class:"deliver_fee"},y=l((()=>(0,i._)("span",null,"配送费",-1))),k={class:"pay_ment"},x={class:"order_detail_style"},b=l((()=>(0,i._)("header",null,"配送信息",-1))),D={class:"item_style"},T=l((()=>(0,i._)("p",{class:"item_left"},"送达时间：",-1))),C={class:"item_right"},I={class:"item_style"},A=l((()=>(0,i._)("p",{class:"item_left"},"送货地址：",-1))),W={class:"item_right"},Z=l((()=>(0,i._)("section",{class:"item_style"},[(0,i._)("p",{class:"item_left"},"配送方式："),(0,i._)("div",{class:"item_right"},[(0,i._)("p",null,"蜂鸟专送")])],-1))),z={class:"order_detail_style"},L=l((()=>(0,i._)("header",null,"订单信息",-1))),H={class:"item_style"},U=l((()=>(0,i._)("p",{class:"item_left"},"订单号：",-1))),V={class:"item_right"},E=l((()=>(0,i._)("section",{class:"item_style"},[(0,i._)("p",{class:"item_left"},"支付方式："),(0,i._)("div",{class:"item_right"},[(0,i._)("p",null,"在线支付")])],-1))),q={class:"item_style"},S=l((()=>(0,i._)("p",{class:"item_left"},"下单时间：",-1))),N={class:"item_right"};function R(e,t,s,l,R,P){const O=(0,i.up)("head-top"),F=(0,i.up)("router-link"),B=(0,i.up)("loading");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(O,{"head-title":"订单详情","go-back":"true"}),R.showLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("section",o,[(0,i._)("section",d,[(0,i._)("section",h,[(0,i._)("img",{src:R.imgBaseUrl+e.orderDetail.restaurant_image_url},null,8,u),(0,i._)("p",null,(0,a.zw)(e.orderDetail.status_bar.title),1),(0,i._)("p",null,(0,a.zw)(e.orderDetail.timeline_node.description),1),(0,i.Wm)(F,{class:"order_again",to:{path:"/shop",query:{geohash:e.geohash,id:e.orderDetail.restaurant_id}}},{default:(0,i.w5)((()=>[(0,i.Uk)("再来一单")])),_:1},8,["to"])]),(0,i._)("section",c,[(0,i.Wm)(F,{class:"food_list_header",to:{path:"/shop",query:{geohash:e.geohash,id:e.orderDetail.restaurant_id}}},{default:(0,i.w5)((()=>[(0,i._)("div",p,[(0,i._)("img",{src:R.imgBaseUrl+e.orderDetail.restaurant_image_url},null,8,_),(0,i._)("span",null,(0,a.zw)(e.orderDetail.restaurant_name),1)]),g])),_:1},8,["to"]),(0,i._)("ul",m,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.orderDetail.basket.group[0],(e=>((0,i.wg)(),(0,i.iD)("li",null,[(0,i._)("p",w,(0,a.zw)(e.name),1),(0,i._)("div",f,[(0,i._)("span",null,"X"+(0,a.zw)(e.quantity),1),(0,i._)("span",null,"¥"+(0,a.zw)(e.price),1)])])))),256))]),(0,i._)("div",v,[y,(0,i._)("span",null,(0,a.zw)(e.orderDetail.basket.deliver_fee&&e.orderDetail.basket.deliver_fee.price||0),1)]),(0,i._)("div",k,"实付"+(0,a.zw)(e.orderDetail.total_amount.toFixed(2)),1)]),(0,i._)("section",x,[b,(0,i._)("section",D,[T,(0,i._)("div",C,[(0,i._)("p",null,(0,a.zw)(R.orderData.deliver_time),1)])]),(0,i._)("section",I,[A,(0,i._)("div",W,[(0,i._)("p",null,(0,a.zw)(R.orderData.consignee),1),(0,i._)("p",null,(0,a.zw)(R.orderData.phone),1),(0,i._)("p",null,(0,a.zw)(R.orderData.address),1)])]),Z]),(0,i._)("section",z,[L,(0,i._)("section",H,[U,(0,i._)("div",V,[(0,i._)("p",null,(0,a.zw)(e.orderDetail.id),1)])]),E,(0,i._)("section",q,[S,(0,i._)("div",N,[(0,i._)("p",null,(0,a.zw)(e.orderDetail.formatted_created_at),1)])])])])])),(0,i.Wm)(n.uT,{name:"loading"},{default:(0,i.w5)((()=>[R.showLoading?((0,i.wg)(),(0,i.j4)(B,{key:0})):(0,i.kq)("",!0)])),_:1})])}var P=s(3532),O=s(1589),F=s(9296),B=s(9849),j=s(4949),K=s(1052),$=s(3230);const G={data(){return{showLoading:!0,orderData:null,imgBaseUrl:$.XW}},mounted(){this.initData()},mixins:[F.a],components:{headTop:O.Z,loading:j.Z},computed:{...(0,P.rn)(["orderDetail","geohash","userInfo"])},methods:{async initData(){this.userInfo&&this.userInfo.user_id&&(this.orderData=await(0,B.dz)(this.userInfo.user_id,this.orderDetail.unique_id),this.showLoading=!1,this.$nextTick((()=>{new K.Z("#scroll_section",{deceleration:.001,bounce:!0,swipeTime:1800,click:!0})})))}},watch:{userInfo:function(e){e&&e.user_id&&this.initData()}}};var Y=s(8773);const M=(0,Y.Z)(G,[["render",R],["__scopeId","data-v-0f4c27dc"]]),Q=M},8839:(e,t,s)=>{s.d(t,{Z:()=>U});var i=s(6440),a=s(1040),n=s(1254);const l=e=>((0,i.dD)("data-v-27d51b35"),e=e(),(0,i.Cn)(),e),r={class:"order_page"},o={class:"order_list_ul"},d=["src"],h={class:"order_item_right"},u=["onClick"],c={class:"order_item_right_header"},p={class:"order_header"},_={class:"ellipsis"},g=l((()=>(0,i._)("svg",{fill:"#333",class:"arrow_right"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})],-1))),m={class:"order_time"},w={class:"order_status"},f={class:"order_basket"},v={class:"order_name ellipsis"},y={class:"order_amount"},k={class:"order_again"};function x(e,t,s,l,x,b){const D=(0,i.up)("head-top"),T=(0,i.up)("compute-time"),C=(0,i.up)("router-link"),I=(0,i.up)("foot-guide"),A=(0,i.up)("loading"),W=(0,i.up)("router-view"),Z=(0,i.Q2)("load-more");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(D,{"head-title":"订单列表","go-back":"true"}),(0,i.wy)(((0,i.wg)(),(0,i.iD)("ul",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(x.orderList,(t=>((0,i.wg)(),(0,i.iD)("li",{class:"order_list_li",key:t.id},[(0,i._)("img",{src:x.imgBaseUrl+t.restaurant_image_url,class:"restaurant_image"},null,8,d),(0,i._)("section",h,[(0,i._)("section",{onClick:e=>b.showDetail(t)},[(0,i._)("header",c,[(0,i._)("section",p,[(0,i._)("h4",null,[(0,i._)("span",_,(0,a.zw)(t.restaurant_name),1),g]),(0,i._)("p",m,(0,a.zw)(t.formatted_created_at),1)]),(0,i._)("p",w,(0,a.zw)(t.status_bar.title),1)]),(0,i._)("section",f,[(0,i._)("p",v,(0,a.zw)(t.basket.group[0][0].name)+(0,a.zw)(t.basket.group[0].length>1?" 等"+t.basket.group[0].length+"件商品":""),1),(0,i._)("p",y,"¥"+(0,a.zw)(t.total_amount.toFixed(2)),1)])],8,u),(0,i._)("div",k,["等待支付"==t.status_bar.title?((0,i.wg)(),(0,i.j4)(T,{key:0,time:t.time_pass},null,8,["time"])):((0,i.wg)(),(0,i.j4)(C,{key:1,to:{path:"/shop",query:{geohash:e.geohash,id:t.restaurant_id}},tag:"span",class:"buy_again"},{default:(0,i.w5)((()=>[(0,i.Uk)("再来一单")])),_:2},1032,["to"]))])])])))),128))])),[[Z,b.loaderMore]]),(0,i.Wm)(I),(0,i.Wm)(n.uT,{name:"loading"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(A,null,null,512),[[n.F8,x.showLoading]])])),_:1}),(0,i.Wm)(n.uT,{name:"router-slid",mode:"out-in"},{default:(0,i.w5)((()=>[(0,i.Wm)(W)])),_:1})])}var b=s(3532),D=s(1589),T=s(4084),C=s(4949),I=s(9296),A=s(1173),W=s(9849),Z=s(3230);const z={data(){return{orderList:null,offset:0,preventRepeat:!1,showLoading:!0,imgBaseUrl:Z.XW}},mounted(){this.initData()},mixins:[I.n],components:{headTop:D.Z,footGuide:A.Z,loading:C.Z,computeTime:T.Z},computed:{...(0,b.rn)(["userInfo","geohash"])},methods:{...(0,b.OI)(["SAVE_ORDER"]),async initData(){if(this.userInfo&&this.userInfo.user_id){let e=await(0,W.Fw)(this.userInfo.user_id,this.offset);this.orderList=[...e],this.hideLoading()}else this.hideLoading()},async loaderMore(){if(this.preventRepeat)return;this.preventRepeat=!0,this.showLoading=!0,this.offset+=10;let e=await(0,W.Fw)(this.userInfo.user_id,this.offset);this.orderList=[...this.orderList,...e],this.hideLoading(),e.length<10||(this.preventRepeat=!1)},showDetail(e){this.SAVE_ORDER(e),this.preventRepeat=!1,this.$router.push("/order/orderDetail")},hideLoading(){this.showLoading=!1}},watch:{userInfo:function(e){e&&e.user_id&&!this.orderList&&this.initData()}}};var L=s(8773);const H=(0,L.Z)(z,[["render",x],["__scopeId","data-v-27d51b35"]]),U=H},6816:(e,t,s)=>{s.d(t,{Z:()=>u});var i=s(6440);const a={class:"page"},n=(0,i.uE)('<div class="markdown" data-v-e533ad92><h3 id="q1-" data-v-e533ad92>Q1: 怎么获得积分？</h3><p data-v-e533ad92>在线支付的订单将获得订单积分奖励：</p><ul data-v-e533ad92><li data-v-e533ad92>积分将在用户完成评价后获得。</li><li data-v-e533ad92>可获得积分=订单金额×10（即1元=10点积分）。</li><li data-v-e533ad92>订单金额指实际付款金额，不包含活动优惠金额。</li><li data-v-e533ad92>每位用户每天最多可以获得2000积分，体验商家的订单和评价不会增加积分。</li></ul><h3 id="q2-" data-v-e533ad92>Q2: 积分用来做什么？</h3><p data-v-e533ad92>可以在积分商城兑换各种礼品。</p><h3 id="q3-" data-v-e533ad92>Q3: 礼品兑换很多天了还没有收到，该怎么办？</h3><p data-v-e533ad92>礼品从兑换日起，3个工作日（周末不算）内处理发货，发货后，通常会在3个工作日左右送达。</p><h3 id="q4-" data-v-e533ad92>Q4: 礼品兑换中的手机充值卡兑换，怎么样进行充值，充值之前会和我电话确认嘛？</h3><p data-v-e533ad92>不会，手机充值卡兑换，是直接充值到您填写的手机号上，充值之前不会和您电话确认，所以您在填写电话的时候，请确认电话是否正确。</p></div>',1);function l(e,t,s,l,r,o){const d=(0,i.up)("head-top");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(d,{"head-title":"积分问题","go-back":"true"}),n])}var r=s(1589);s(9849),s(8842),s(4949);const o={data(){return{}},components:{headTop:r.Z}};var d=s(8773);const h=(0,d.Z)(o,[["render",l],["__scopeId","data-v-e533ad92"]]),u=h},2347:(e,t,s)=>{s.d(t,{Z:()=>D});var i=s(6440),a=s(1254),n=s(4053),l=s(9406);const r=e=>((0,i.dD)("data-v-7c18d186"),e=e(),(0,i.Cn)(),e),o={class:"page"},d={class:"content_container"},h={class:"content"},u={class:"content_header"},c=r((()=>(0,i._)("span",{class:"content_title_style"},"当前积分",-1))),p={class:"contetn_description"},_=r((()=>(0,i._)("img",{src:n,height:"24",width:"24"},null,-1))),g=r((()=>(0,i._)("p",{class:"content_num"},[(0,i._)("span",null,"0"),(0,i._)("span",null,"分")],-1))),m=r((()=>(0,i._)("p",{class:"deal_detail"},"最近30天积分纪录",-1))),w=r((()=>(0,i._)("div",{class:"no_log"},[(0,i._)("img",{src:l}),(0,i._)("p",null,"最近30天无积分纪录"),(0,i._)("p",null,"快去下单赚取大量积分吧")],-1)));function f(e,t,s,n,l,r){const f=(0,i.up)("head-top"),v=(0,i.up)("router-link"),y=(0,i.up)("alert-tip"),k=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(f,{"head-title":"我的积分","go-back":"true"}),(0,i._)("section",d,[(0,i._)("section",h,[(0,i._)("header",u,[c,(0,i._)("section",p,[_,(0,i.Wm)(v,{to:"/points/detail",class:"content_title_style"},{default:(0,i.w5)((()=>[(0,i.Uk)("积分说明")])),_:1})])]),g,(0,i._)("div",{class:"promit_button",onClick:t[0]||(t[0]=(...e)=>r.usePoint&&r.usePoint(...e))},"积分兑换商品")])]),m,w,l.showAlert?((0,i.wg)(),(0,i.j4)(y,{key:0,onCloseTip:t[1]||(t[1]=e=>l.showAlert=!1),alertText:l.alertText},null,8,["alertText"])):(0,i.kq)("",!0),(0,i.Wm)(a.uT,{name:"router-slid",mode:"out-in"},{default:(0,i.w5)((()=>[(0,i.Wm)(k)])),_:1})])}var v=s(1589),y=s(8842);const k={data(){return{showAlert:!1,alertText:null}},mounted(){},components:{headTop:v.Z,alertTip:y.Z},computed:{},methods:{usePoint(){this.showAlert=!0,this.alertText="快去下单赚取大量积分吧"}}};var x=s(8773);const b=(0,x.Z)(k,[["render",f],["__scopeId","data-v-7c18d186"]]),D=b},2494:(e,t,s)=>{s.d(t,{Z:()=>x});var i=s(6440),a=s(1040),n=s(1254);const l=e=>((0,i.dD)("data-v-5cdbd960"),e=e(),(0,i.Cn)(),e),r={class:"rating_page"},o={class:"address"},d={class:"addresslist"},h={key:0},u={key:0,class:"deletesite"},c=["onClick"],p=l((()=>(0,i._)("div",{class:"addsite"},[(0,i._)("span",null,"新增地址"),(0,i._)("span",{class:"addsvg"},[(0,i._)("svg",{fill:"#d8d8d8"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])])],-1)));function _(e,t,s,l,_,g){const m=(0,i.up)("head-top"),w=(0,i.up)("router-link"),f=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(m,{"head-title":"编辑地址","go-back":"true"},{default:(0,i.w5)((()=>[(0,i._)("span",{slot:"edit",class:"edit",onClick:t[0]||(t[0]=(...e)=>g.editThing&&g.editThing(...e))},(0,a.zw)(_.editText),1)])),_:1}),(0,i._)("section",o,[(0,i._)("ul",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.removeAddress,((e,t)=>((0,i.wg)(),(0,i.iD)("li",null,[(0,i._)("div",null,[(0,i._)("p",null,(0,a.zw)(e.address),1),(0,i._)("p",null,[(0,i._)("span",null,(0,a.zw)(e.phone),1),e.phonepk?((0,i.wg)(),(0,i.iD)("span",h,"、"+(0,a.zw)(e.phonepk),1)):(0,i.kq)("",!0)])]),_.deletesite?((0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("span",{onClick:s=>g.deleteSite(t,e)},"x",8,c)])):(0,i.kq)("",!0)])))),256))]),(0,i.Wm)(w,{to:"/profile/info/address/add"},{default:(0,i.w5)((()=>[p])),_:1})]),(0,i.Wm)(n.uT,{name:"router-slid",mode:"out-in"},{default:(0,i.w5)((()=>[(0,i.Wm)(f)])),_:1})])}var g=s(1589),m=s(9296),w=s(3532),f=s(9849);const v={data(){return{deletesite:!1,editText:"编辑",adressList:[]}},mounted(){this.initData()},mixins:[m.a],mounted(){},components:{headTop:g.Z},computed:{...(0,w.rn)(["userInfo","removeAddress"])},props:[],methods:{...(0,w.nv)(["saveAddress"]),initData(){this.userInfo&&this.userInfo.user_id&&this.saveAddress()},editThing(){"编辑"==this.editText?(this.editText="完成",this.deletesite=!0):(this.editText="编辑",this.deletesite=!1)},async deleteSite(e,t){this.userInfo&&this.userInfo.user_id&&(await(0,f._N)(this.userInfo.user_id,t.id),this.removeAddress.splice(e,1))}},watch:{userInfo:function(e){e&&e.user_id&&this.initData()}}};var y=s(8773);const k=(0,y.Z)(v,[["render",_],["__scopeId","data-v-5cdbd960"]]),x=k},9490:(e,t,s)=>{s.d(t,{Z:()=>A});var i=s(6440),a=s(1254),n=s(1040);const l={class:"rating_page"},r={class:"adddetail"},o={class:"ui-padding-block"},d={class:"input-new"},h={key:0},u={class:"input-new"},c={class:"input-new"},p={key:0},_={class:"input-new"},g={key:0},m={class:"input-new"},w={key:0},f={class:"addbutton"};function v(e,t,s,v,y,k){const x=(0,i.up)("head-top"),b=(0,i.up)("router-link"),D=(0,i.up)("router-view"),T=(0,i.up)("alert-tip");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(x,{"head-title":"新增地址","go-back":"true"}),(0,i._)("section",r,[(0,i._)("form",{action:"",onSubmit:t[10]||(t[10]=(0,a.iM)((()=>{}),["prevent"]))},[(0,i._)("section",o,[(0,i._)("div",d,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"请填写你的姓名",class:(0,n.C_)({verifies:y.verify}),"onUpdate:modelValue":t[0]||(t[0]=e=>y.message=e),onInput:t[1]||(t[1]=(...e)=>k.inputThing&&k.inputThing(...e))},null,34),[[a.nr,y.message]]),y.verify?((0,i.wg)(),(0,i.iD)("p",h,"请填写您的姓名")):(0,i.kq)("",!0)]),(0,i.Wm)(b,{to:"/profile/info/address/add/addDetail",class:"add-detail"},{default:(0,i.w5)((()=>[(0,i._)("div",u,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"小区/写字楼/学校等",readonly:"readonly","onUpdate:modelValue":t[2]||(t[2]=t=>e.addAddress=t)},null,512),[[a.nr,e.addAddress]])])])),_:1}),(0,i._)("div",c,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"请填写详细送餐地址",class:(0,n.C_)({verifies:y.verifythree}),onInput:t[3]||(t[3]=(...e)=>k.inputThingthree&&k.inputThingthree(...e)),"onUpdate:modelValue":t[4]||(t[4]=e=>y.mesthree=e)},null,34),[[a.nr,y.mesthree]]),y.verifythree?((0,i.wg)(),(0,i.iD)("p",p,(0,n.zw)(y.sendaddress),1)):(0,i.kq)("",!0)]),(0,i._)("div",_,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"请填写能够联系到您的手机号",class:(0,n.C_)({verifies:y.verifyfour}),"onUpdate:modelValue":t[5]||(t[5]=e=>y.telenum=e),onInput:t[6]||(t[6]=(...e)=>k.inputThingfour&&k.inputThingfour(...e))},null,34),[[a.nr,y.telenum]]),y.verifyfour?((0,i.wg)(),(0,i.iD)("p",g,(0,n.zw)(y.telephone),1)):(0,i.kq)("",!0)]),(0,i._)("div",m,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"备用联系电话（选填）","onUpdate:modelValue":t[7]||(t[7]=e=>y.standbytelenum=e),onInput:t[8]||(t[8]=(...e)=>k.inputThingfive&&k.inputThingfive(...e))},null,544),[[a.nr,y.standbytelenum]]),y.verifyfive?((0,i.wg)(),(0,i.iD)("p",w,(0,n.zw)(y.standbytele),1)):(0,i.kq)("",!0)])]),(0,i._)("section",f,[(0,i._)("button",{class:(0,n.C_)({butopacity:y.butpart}),onClick:t[9]||(t[9]=(0,a.iM)(((...e)=>k.submitThing&&k.submitThing(...e)),["prevent"]))},"新增地址",2)])],32)]),(0,i.Wm)(a.uT,{name:"router-slid",mode:"out-in"},{default:(0,i.w5)((()=>[(0,i.Wm)(D)])),_:1}),y.showAlert?((0,i.wg)(),(0,i.j4)(T,{key:0,onCloseTip:t[11]||(t[11]=e=>y.showAlert=!1),alertText:y.alertText},null,8,["alertText"])):(0,i.kq)("",!0)])}var y=s(1589),k=s(9296),x=s(3532),b=s(9849),D=s(8842);const T={data(){return{verify:!1,verifytwo:!1,verifythree:!1,verifyfour:!1,verifyfive:!1,butpart:!1,sendaddress:"",message:"",mesthree:"",telenum:"",telephone:"",standbytele:"",standbytelenum:"",addSearch:!1,newAddress:{},showAlert:!1,alertText:null}},created(){},mixins:[k.a],components:{headTop:y.Z,alertTip:D.Z},computed:{...(0,x.rn)(["userInfo","addAddress","removeAddress","newAddress","geohash"])},props:[],methods:{...(0,x.OI)(["ADD_ADDRESS"]),inputThing(){this.message?this.verify=!1:this.verify=!0,this.bindThing()},inputThingthree(){this.verifythree=!0,0==this.mesthree.length?this.sendaddress="请详细填写送餐地址":this.mesthree.length>0&&this.mesthree.length<=2?this.sendaddress="送餐地址太短了，不能辨识":(this.sendaddress="",this.verifythree=!1),this.bindThing()},inputThingfour(){this.verifyfour=!0,/^[1][358][0-9]{9}$/.test(this.telenum)?this.verifyfour=!1:""==this.telenum?this.telephone="手机号不能为空":this.telephone="请输入正确的手机号",this.bindThing()},inputThingfive(){this.verifyfive=!0,/^[1][358][0-9]{9}$/.test(this.standbytelenum)||""==this.standbytelenum?this.verifyfive=!1:this.standbytele="请输入正确的手机号",this.bindThing()},bindThing(){this.message&&this.mesthree&&!this.verifyfour?this.butpart=!0:this.butpart=!1},async submitThing(){let e=await(0,b.nh)(this.userInfo.user_id,this.mesthree,this.addAddress,this.geohash,this.message,this.telenum,this.standbytelenum,0,1,"公司",4);e.message?(this.showAlert=!0,this.alertText=e.message):this.butpart&&(this.ADD_ADDRESS({name:this.message,address:this.mesthree,address_detail:this.addAddress,geohash:"wtw37r7cxep4",phone:this.telenum,phone_bk:this.standbytelenum,poi:this.addAddress,poi_type:0}),this.$router.go(-1))}}};var C=s(8773);const I=(0,C.Z)(T,[["render",v],["__scopeId","data-v-48a1ef26"]]),A=I},5081:(e,t,s)=>{s.d(t,{Z:()=>T});var i=s(6440),a=s(1254),n=s(1040);const l=e=>((0,i.dD)("data-v-4e54011d"),e=e(),(0,i.Cn)(),e),r={class:"rating_page"},o={class:"add-detail"},d=l((()=>(0,i._)("div",{class:"warnpart"},"为了满足商家的送餐要求，建议您从列表中选择地址",-1))),h={class:"point"},u=l((()=>(0,i._)("p",null,"找不到地址？",-1))),c=l((()=>(0,i._)("p",null,"请尝试输入小区、写字楼或学校名",-1))),p=l((()=>(0,i._)("p",null,"详细地址（如门牌号）可稍后输入哦。",-1))),_=[u,c,p],g={class:"poisearch-container"},m=["onClick"];function w(e,t,s,l,u,c){const p=(0,i.up)("head-top");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(p,{"head-title":"搜索地址","go-back":"true"}),(0,i._)("section",null,[(0,i._)("div",o,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"请输入小区/写字楼/学校等","onUpdate:modelValue":t[0]||(t[0]=e=>u.inputAdress=e)},null,512),[[a.nr,u.inputAdress]]),(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>c.inputThing&&c.inputThing(...e))},"确认")]),d,(0,i.wy)((0,i._)("div",h,_,512),[[a.F8,u.warning]])]),(0,i.wy)((0,i._)("section",g,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.adressList,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{onClick:e=>c.listClick(t)},[(0,i._)("p",null,(0,n.zw)(e.name),1),(0,i._)("p",null,(0,n.zw)(e.address),1)],8,m)))),256))])],512),[[a.F8,u.adressList]])])}var f=s(1589),v=s(9296),y=s(9849),k=s(3532);const x={data(){return{warning:!0,inputAdress:"",adressList:[]}},created(){this.inputAdress=this.addAddress?this.addAddress:this.inputAdress},mounted(){},mixins:[v.a],components:{headTop:f.Z},computed:{...(0,k.rn)(["addAddress"])},props:[],methods:{...(0,k.OI)(["SAVE_ADDDETAIL"]),inputThing(){(0,y.Fn)(this.inputAdress).then((e=>{this.adressList=e,this.warning=!0,this.adressList.length>0&&(this.warning=!1,""==this.inputAdress&&(this.adressList=[],this.warning=!0))}))},listClick(e){this.SAVE_ADDDETAIL(this.adressList[e].name),this.$router.go(-1)}}};var b=s(8773);const D=(0,b.Z)(x,[["render",w],["__scopeId","data-v-4e54011d"]]),T=D},5722:(e,t,s)=>{s.d(t,{Z:()=>v});var i=s(6440),a=s(1040),n=s(1254);const l={class:"rating_page"},r={class:"setname"},o={class:"setname-top"},d={key:0},h={key:1,class:"unlikep"},u={class:"reset"};function c(e,t,s,c,p,_){const g=(0,i.up)("head-top");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(g,{"head-title":"修改用户名","go-back":"true"}),(0,i._)("section",r,[(0,i._)("section",o,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"输入用户名",class:(0,a.C_)({"setname-input":p.bordercolor}),onInput:t[0]||(t[0]=(...e)=>_.inputThing&&_.inputThing(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>p.inputValue=e)},null,34),[[n.nr,p.inputValue]]),(0,i._)("div",null,[p.earn?((0,i.wg)(),(0,i.iD)("p",d,"用户名只能修改一次（5-24字符之间）")):((0,i.wg)(),(0,i.iD)("p",h,"用户名长度在5到24位之间"))])]),(0,i._)("section",u,[(0,i._)("button",{class:(0,a.C_)({fontopacity:p.opacityall}),onClick:t[2]||(t[2]=(...e)=>_.resetName&&_.resetName(...e))},"确认修改",2)])])])}var p=s(1589),_=s(9296),g=s(3532);const m={data(){return{earn:!0,bordercolor:!1,opacityall:!1,inputValue:"",newusername:""}},created(){},mixins:[_.a],components:{headTop:p.Z},mounted(){},computed:{...(0,g.rn)(["userInfo"])},props:[],methods:{...(0,g.OI)(["RETSET_NAME"]),inputThing(){return this.inputValue.length<5||this.inputValue.length>24?(this.earn=!1,this.bordercolor=!0,this.opacityall=!1,!1):(this.earn=!0,this.bordercolor=!1,this.opacityall=!0,!0)},resetName(){let e=this.inputThing();e&&(this.RETSET_NAME(this.inputValue),this.$router.go(-1))}}};var w=s(8773);const f=(0,w.Z)(m,[["render",c],["__scopeId","data-v-3ba1ebe8"]]),v=f},1016:(e,t,s)=>{s.d(t,{Z:()=>$});var i=s(6440),a=s(1040),n=s(1254),l=s(1339);const r=e=>((0,i.dD)("data-v-31ce628f"),e=e(),(0,i.Cn)(),e),o={class:"rating_page"},d={class:"profile-info"},h={class:"headportrait"},u=r((()=>(0,i._)("h2",null,"头像",-1))),c={class:"headportrait-div"},p=["src"],_={key:1,class:"headportrait-div-top"},g=r((()=>(0,i._)("svg",null,[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#avatar-default"})],-1))),m=[g],w=r((()=>(0,i._)("span",{class:"headportrait-div-bottom"},[(0,i._)("svg",{fill:"#d8d8d8"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])],-1))),f={class:"headportrait headportraitwo"},v=r((()=>(0,i._)("h2",null,"用户名",-1))),y={class:"headportrait-div"},k=r((()=>(0,i._)("span",{class:"headportrait-div-bottom"},[(0,i._)("svg",{fill:"#d8d8d8"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])],-1))),x=r((()=>(0,i._)("section",{class:"headportrait headportraitwo headportraithree"},[(0,i._)("h2",null,"收货地址"),(0,i._)("div",{class:"headportrait-div"},[(0,i._)("span",{class:"headportrait-div-bottom"},[(0,i._)("svg",{fill:"#d8d8d8"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])])])],-1))),b=r((()=>(0,i._)("section",{class:"bind-phone"}," 账号绑定 ",-1))),D={class:"headportrait headportraitwo headportraithree"},T=r((()=>(0,i._)("h2",null,[(0,i._)("img",{src:l,style:{display:"inline-block","margin-right":".4rem"},alt:""}),(0,i.Uk)("手机")],-1))),C={class:"headportrait-div"},I=r((()=>(0,i._)("span",{class:"headportrait-div-bottom"},[(0,i._)("svg",{fill:"#d8d8d8"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])],-1))),A=r((()=>(0,i._)("section",{class:"bind-phone"}," 安全设置 ",-1))),W=r((()=>(0,i._)("section",{class:"headportrait headportraitwo headportraithree"},[(0,i._)("h2",null,"登录密码"),(0,i._)("div",{class:"headportrait-div"},[(0,i._)("p",null,"修改"),(0,i._)("span",{class:"headportrait-div-bottom"},[(0,i._)("svg",{fill:"#d8d8d8"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])])])],-1))),Z={key:0,class:"coverpart"},z=r((()=>(0,i._)("section",{class:"cover-background"},null,-1))),L=r((()=>(0,i._)("div",{class:"sa-icon"},[(0,i._)("span",{class:"sa-body"}),(0,i._)("span",{class:"sa-dot"})],-1))),H=r((()=>(0,i._)("h2",null,"是否退出登录",-1))),U={class:"sa-botton"},V={style:{display:"inline-block"}};function E(e,t,s,l,r,g){const E=(0,i.up)("head-top"),q=(0,i.up)("router-link"),S=(0,i.up)("alert-tip"),N=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(E,{"head-title":"账户信息","go-back":"true"}),(0,i._)("section",d,[(0,i._)("section",h,[(0,i._)("input",{type:"file",class:"profileinfopanel-upload",onChange:t[0]||(t[0]=(...e)=>g.uploadAvatar&&g.uploadAvatar(...e))},null,32),u,(0,i._)("div",c,[e.userInfo?((0,i.wg)(),(0,i.iD)("img",{key:0,src:r.imgBaseUrl+e.userInfo.avatar,class:"headportrait-div-top"},null,8,p)):((0,i.wg)(),(0,i.iD)("span",_,m)),w])]),(0,i.Wm)(q,{to:"/profile/info/setusername",class:"info-router"},{default:(0,i.w5)((()=>[(0,i._)("section",f,[v,(0,i._)("div",y,[(0,i._)("p",null,(0,a.zw)(r.username),1),k])])])),_:1}),(0,i.Wm)(q,{to:"/profile/info/address",class:"info-router"},{default:(0,i.w5)((()=>[x])),_:1}),b,(0,i._)("section",{class:"info-router",onClick:t[1]||(t[1]=(...e)=>g.changePhone&&g.changePhone(...e))},[(0,i._)("section",D,[T,(0,i._)("div",C,[(0,i._)("p",null,(0,a.zw)(r.infotel),1),I])])]),A,(0,i.Wm)(q,{to:"/forget",class:"info-router"},{default:(0,i.w5)((()=>[W])),_:1}),(0,i._)("section",{class:"exitlogin",onClick:t[2]||(t[2]=(...e)=>g.exitlogin&&g.exitlogin(...e))},"退出登录")]),r.show?((0,i.wg)(),(0,i.iD)("section",Z,[z,(0,i._)("section",{class:(0,a.C_)(["cover-content",{"cover-animate":r.isEnter,"cover-animate-leave":r.isLeave}])},[L,H,(0,i._)("div",U,[(0,i._)("button",{class:"waiting",onClick:t[3]||(t[3]=(...e)=>g.waitingThing&&g.waitingThing(...e))},"再等等"),(0,i._)("div",V,[(0,i._)("button",{class:"quitlogin",onClick:t[4]||(t[4]=(...e)=>g.outLogin&&g.outLogin(...e))},"退出登录")])])],2)])):(0,i.kq)("",!0),r.showAlert?((0,i.wg)(),(0,i.j4)(S,{key:1,onCloseTip:t[5]||(t[5]=e=>r.showAlert=!1),alertText:r.alertText},null,8,["alertText"])):(0,i.kq)("",!0),(0,i.Wm)(n.uT,{name:"router-slid",mode:"out-in"},{default:(0,i.w5)((()=>[(0,i.Wm)(N)])),_:1})])}var q=s(3532),S=s(1589),N=s(9849),R=s(8842),P=s(9296),O=s(3230),F=s(6461);const B={data(){return{username:"",resetname:"",infotel:"",avatar:"",show:!1,isEnter:!0,isLeave:!1,showAlert:!1,alertText:null,imgBaseUrl:O.XW}},beforeDestroy(){clearTimeout(this.timer)},components:{headTop:S.Z,alertTip:R.Z},mixins:[P.a],computed:{...(0,q.rn)(["userInfo","imgPath"])},methods:{...(0,q.OI)(["OUT_LOGIN","SAVE_AVANDER"]),exitlogin(){this.show=!0,this.isEnter=!0,this.isLeave=!1},waitingThing(){clearTimeout(this.timer),this.isEnter=!1,this.isLeave=!0,this.timer=setTimeout((()=>{clearTimeout(this.timer),this.show=!1}),200)},async outLogin(){this.OUT_LOGIN(),this.waitingThing(),this.$router.go(-1),(0,F.kr)("user_id"),await(0,N.uf)()},changePhone(){this.showAlert=!0,this.alertText="请在手机APP中设置"},async uploadAvatar(){if(this.userInfo){let t=document.querySelector(".profileinfopanel-upload"),s=new FormData;s.append("file",t.files[0]);try{let e=await fetch("/eus/v1/users/"+this.userInfo.user_id+"/avatar",{method:"POST",credentials:"include",body:s}),t=await e.json();1==t.status&&(this.userInfo.avatar=t.image_path)}catch(e){throw this.showAlert=!0,this.alertText="上传失败",new Error(e)}}}},watch:{userInfo:function(e){e&&e.user_id&&(this.username=e.username,this.infotel=e.mobile,this.avatar=e.avatar)}}};var j=s(8773);const K=(0,j.Z)(B,[["render",E],["__scopeId","data-v-31ce628f"]]),$=K},7834:(e,t,s)=>{s.d(t,{Z:()=>j});var i=s(6440),a=s(1040),n=s(1254);const l=e=>((0,i.dD)("data-v-3edb6b6e"),e=e(),(0,i.Cn)(),e),r={class:"profile_page"},o={class:"profile-number"},d=["src"],h={key:1,class:"privateImage"},u=l((()=>(0,i._)("svg",{class:"privateImage-svg"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#avatar-default"})],-1))),c=[u],p={class:"user-info"},_=l((()=>(0,i._)("span",{class:"user-icon"},[(0,i._)("svg",{class:"icon-mobile",fill:"#fff"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#mobile"})])],-1))),g={class:"icon-mobile-number"},m=l((()=>(0,i._)("span",{class:"arrow"},[(0,i._)("svg",{class:"arrow-svg",fill:"#fff"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])],-1))),w={class:"info-data"},f={class:"clear"},v={class:"info-data-top"},y=l((()=>(0,i._)("span",{class:"info-data-bottom"},"我的余额",-1))),k={class:"info-data-top"},x=l((()=>(0,i._)("span",{class:"info-data-bottom"},"我的优惠",-1))),b={class:"info-data-top"},D=l((()=>(0,i._)("span",{class:"info-data-bottom"},"我的积分",-1))),T={class:"profile-1reTe"},C=l((()=>(0,i._)("aside",null,[(0,i._)("svg",{fill:"#4aa5f0"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#order"})])],-1))),I=l((()=>(0,i._)("div",{class:"myorder-div"},[(0,i._)("span",null,"我的订单"),(0,i._)("span",{class:"myorder-divsvg"},[(0,i._)("svg",{fill:"#bbb"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])])],-1))),A=l((()=>(0,i._)("a",{href:"https://home.m.duiba.com.cn/#/chome/index",class:"myorder"},[(0,i._)("aside",null,[(0,i._)("svg",{fill:"#fc7b53"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#point"})])]),(0,i._)("div",{class:"myorder-div"},[(0,i._)("span",null,"积分商城"),(0,i._)("span",{class:"myorder-divsvg"},[(0,i._)("svg",{fill:"#bbb"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])])])],-1))),W=l((()=>(0,i._)("aside",null,[(0,i._)("svg",{fill:"#ffc636"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#vip"})])],-1))),Z=l((()=>(0,i._)("div",{class:"myorder-div"},[(0,i._)("span",null,"饿了么会员卡"),(0,i._)("span",{class:"myorder-divsvg"},[(0,i._)("svg",{fill:"#bbb"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])])],-1))),z={class:"profile-1reTe"},L=l((()=>(0,i._)("aside",null,[(0,i._)("svg",{fill:"#4aa5f0"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#service"})])],-1))),H=l((()=>(0,i._)("div",{class:"myorder-div"},[(0,i._)("span",null,"服务中心"),(0,i._)("span",{class:"myorder-divsvg"},[(0,i._)("svg",{fill:"#bbb"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])])],-1))),U=l((()=>(0,i._)("aside",null,[(0,i._)("svg",{fill:"#3cabff"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#download"})])],-1))),V=l((()=>(0,i._)("div",{class:"myorder-div",style:{"border-bottom":"0"}},[(0,i._)("span",null,"下载饿了么APP"),(0,i._)("span",{class:"myorder-divsvg"},[(0,i._)("svg",{fill:"#bbb"},[(0,i._)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"})])])],-1)));function E(e,t,s,l,u,E){const q=(0,i.up)("head-top"),S=(0,i.up)("router-link"),N=(0,i.up)("foot-guide"),R=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(q,{"go-back":"true","head-title":u.profiletitle},null,8,["head-title"]),(0,i._)("section",null,[(0,i._)("section",o,[(0,i.Wm)(S,{to:e.userInfo&&e.userInfo.user_id?"/profile/info":"/login",class:"profile-link"},{default:(0,i.w5)((()=>[e.userInfo&&e.userInfo.user_id?((0,i.wg)(),(0,i.iD)("img",{key:0,src:u.imgBaseUrl+e.userInfo.avatar,class:"privateImage"},null,8,d)):((0,i.wg)(),(0,i.iD)("span",h,c)),(0,i._)("div",p,[(0,i._)("p",null,(0,a.zw)(u.username),1),(0,i._)("p",null,[_,(0,i._)("span",g,(0,a.zw)(u.mobile),1)])]),m])),_:1},8,["to"])]),(0,i._)("section",w,[(0,i._)("ul",f,[(0,i.Wm)(S,{to:"/balance",tag:"li",class:"info-data-link"},{default:(0,i.w5)((()=>[(0,i._)("span",v,[(0,i._)("b",null,(0,a.zw)(parseInt(u.balance).toFixed(2)),1),(0,i.Uk)("元")]),y])),_:1}),(0,i.Wm)(S,{to:"/benefit",tag:"li",class:"info-data-link"},{default:(0,i.w5)((()=>[(0,i._)("span",k,[(0,i._)("b",null,(0,a.zw)(u.count),1),(0,i.Uk)("个")]),x])),_:1}),(0,i.Wm)(S,{to:"/points",tag:"li",class:"info-data-link"},{default:(0,i.w5)((()=>[(0,i._)("span",b,[(0,i._)("b",null,(0,a.zw)(u.pointNumber),1),(0,i.Uk)("分")]),D])),_:1})])]),(0,i._)("section",T,[(0,i.Wm)(S,{to:"/order",class:"myorder"},{default:(0,i.w5)((()=>[C,I])),_:1}),A,(0,i.Wm)(S,{to:"/vipcard",class:"myorder"},{default:(0,i.w5)((()=>[W,Z])),_:1})]),(0,i._)("section",z,[(0,i.Wm)(S,{to:"/service",class:"myorder"},{default:(0,i.w5)((()=>[L,H])),_:1}),(0,i.Wm)(S,{to:"/download",class:"myorder"},{default:(0,i.w5)((()=>[U,V])),_:1})])]),(0,i.Wm)(N),(0,i.Wm)(n.uT,{name:"router-slid",mode:"out-in"},{default:(0,i.w5)((()=>[(0,i.Wm)(R)])),_:1})])}var q=s(1589),S=s(1173),N=s(3532),R=s(3230),P=s(9296);const O={data(){return{profiletitle:"我的",username:"登录/注册",resetname:"",mobile:"暂无绑定手机号",balance:0,count:0,pointNumber:0,avatar:"",imgBaseUrl:R.XW}},mounted(){this.initData()},mixins:[P.a],components:{headTop:q.Z,footGuide:S.Z},computed:{...(0,N.rn)(["userInfo"]),imgpath:function(){let e;return e=-1!==this.avatar.indexOf("/")?R.XW+this.avatar:this.getImgPath(this.avatar),this.SAVE_AVANDER(e),e}},methods:{...(0,N.OI)(["SAVE_AVANDER"]),initData(){this.userInfo&&this.userInfo.user_id?(this.avatar=this.userInfo.avatar,this.username=this.userInfo.username,this.mobile=this.userInfo.mobile||"暂无绑定手机号",this.balance=this.userInfo.balance,this.count=this.userInfo.gift_amount,this.pointNumber=this.userInfo.point):(this.username="登录/注册",this.mobile="暂无绑定手机号")}},watch:{userInfo:function(e){this.initData()}}};var F=s(8773);const B=(0,F.Z)(O,[["render",E],["__scopeId","data-v-3edb6b6e"]]),j=B},1551:(e,t,s)=>{s.d(t,{Z:()=>E});var i=s(6440),a=s(1254),n=s(1040);const l=e=>((0,i.dD)("data-v-28445d52"),e=e(),(0,i.Cn)(),e),r={class:"paddingTop search_page"},o={class:"search_form"},d={key:0},h=l((()=>(0,i._)("h4",{class:"title_restaurant"},"商家",-1))),u={class:"list_container"},c={class:"item_left"},p=["src"],_={class:"item_right"},g={class:"item_right_text"},m=l((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"24",height:"14",class:"pay_icon"},[(0,i._)("polygon",{points:"0,14 4,0 24,0 20,14",style:{fill:"none",stroke:"#FF6000","stroke-width":"1"}}),(0,i._)("line",{x1:"1.5",y1:"12",x2:"20",y2:"12",style:{stroke:"#FF6000","stroke-width":"1.5"}}),(0,i._)("text",{x:"3.5",y:"9",style:{fill:"#FF6000","font-size":"9","font-weight":"bold"}},"支付")],-1))),w={class:"item_right_detail"},f=l((()=>(0,i._)("span",{class:"only_phone"},"(手机客户端专享)",-1))),v={key:1,class:"search_history"},y=l((()=>(0,i._)("h4",{class:"title_restaurant"},"搜索历史",-1))),k=["onClick"],x=["onClick"],b=l((()=>(0,i._)("line",{x1:"8",y1:"8",x2:"18",y2:"18",style:{stroke:"#999","stroke-width":"3"}},null,-1))),D=l((()=>(0,i._)("line",{x1:"18",y1:"8",x2:"8",y2:"18",style:{stroke:"#999","stroke-width":"3"}},null,-1))),T=[b,D],C={key:2,class:"search_none"};function I(e,t,s,l,b,D){const I=(0,i.up)("head-top"),A=(0,i.up)("router-link"),W=(0,i.up)("foot-guide");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(I,{"head-title":"搜索",goBack:"true"}),(0,i._)("form",o,[(0,i.wy)((0,i._)("input",{type:"search",name:"search",placeholder:"请输入商家或美食名称",class:"search_input","onUpdate:modelValue":t[0]||(t[0]=e=>b.searchValue=e),onInput:t[1]||(t[1]=(...e)=>D.checkInput&&D.checkInput(...e))},null,544),[[a.nr,b.searchValue]]),(0,i._)("input",{type:"submit",name:"submit",class:"search_submit",onClick:t[2]||(t[2]=(0,a.iM)((e=>D.searchTarget("")),["prevent"]))})]),b.restaurantList.length?((0,i.wg)(),(0,i.iD)("section",d,[h,(0,i._)("ul",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(b.restaurantList,(e=>((0,i.wg)(),(0,i.j4)(A,{to:{path:"/shop",query:{id:e.id}},tag:"li",key:e.id,class:"list_li"},{default:(0,i.w5)((()=>[(0,i._)("section",c,[(0,i._)("img",{src:b.imgBaseUrl+e.image_path,class:"restaurant_img"},null,8,p)]),(0,i._)("section",_,[(0,i._)("div",g,[(0,i._)("p",null,[(0,i._)("span",null,(0,n.zw)(e.name),1),m]),(0,i._)("p",null,"月售 "+(0,n.zw)(e.month_sales||e.recent_order_num)+" 单",1),(0,i._)("p",null,(0,n.zw)(e.delivery_fee||e.float_minimum_order_amount)+" 元起送 / 距离"+(0,n.zw)(e.distance),1)]),(0,i._)("ul",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.restaurant_activity,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id},[(0,i._)("span",{style:(0,n.j5)({backgroundColor:"#"+e.icon_color}),class:"activities_icon"},(0,n.zw)(e.icon_name),5),(0,i._)("span",null,(0,n.zw)(e.name),1),f])))),128))])])])),_:2},1032,["to"])))),128))])])):(0,i.kq)("",!0),b.searchHistory.length&&b.showHistory?((0,i.wg)(),(0,i.iD)("section",v,[y,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(b.searchHistory,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:"history_list"},[(0,i._)("span",{class:"history_text ellipsis",onClick:t=>D.searchTarget(e)},(0,n.zw)(e),9,k),((0,i.wg)(),(0,i.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",class:"delete_icon",onClick:e=>D.deleteHistory(t)},T,8,x))])))),128))]),(0,i._)("footer",{class:"clear_history",onClick:t[3]||(t[3]=(...e)=>D.clearAllHistory&&D.clearAllHistory(...e))},"清空搜索历史")])):(0,i.kq)("",!0),b.emptyResult?((0,i.wg)(),(0,i.iD)("div",C,"很抱歉！无搜索结果")):(0,i.kq)("",!0),(0,i.Wm)(W)])}var A=s(1589),W=s(1173),Z=s(9849),z=s(3230),L=s(6461);const H={data(){return{geohash:"",searchValue:"",restaurantList:[],imgBaseUrl:z.XW,searchHistory:[],showHistory:!0,emptyResult:!1}},created(){},mounted(){this.geohash=this.$route.params.geohash,(0,L.bh)("searchHistory")&&(this.searchHistory=JSON.parse((0,L.bh)("searchHistory")))},components:{headTop:A.Z,footGuide:W.Z},methods:{async searchTarget(e){if(e)this.searchValue=e;else if(!this.searchValue)return;this.showHistory=!1,this.restaurantList=await(0,Z.Us)(this.geohash,this.searchValue),this.emptyResult=!this.restaurantList.length;let t=(0,L.bh)("searchHistory");if(t){let e=!1;this.searchHistory=JSON.parse(t),this.searchHistory.forEach((t=>{t==this.searchValue&&(e=!0)})),e||this.searchHistory.push(this.searchValue)}else this.searchHistory.push(this.searchValue);(0,L.PQ)("searchHistory",this.searchHistory)},checkInput(){""===this.searchValue&&(this.showHistory=!0,this.restaurantList=[],this.emptyResult=!1)},deleteHistory(e){this.searchHistory.splice(e,1),(0,L.PQ)("searchHistory",this.searchHistory)},clearAllHistory(){this.searchHistory=[],(0,L.PQ)("searchHistory",this.searchHistory)}}};var U=s(8773);const V=(0,U.Z)(H,[["render",I],["__scopeId","data-v-28445d52"]]),E=V}}]);
//# sourceMappingURL=app-47b733bc.8c3de384.js.map